(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-cmpInvoiceSubmit"],{"068a":function(i,t,e){"use strict";var a={addressPicker:e("1238").default},n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("v-uni-view",{staticStyle:{"background-color":"#F7F7F7"}},[e("v-uni-text",{staticClass:"tips"},[i._v("开具增值税专用发票需满1000元，20号之前提交申请，25号统一寄出，且每月仅可申请一次")]),e("v-uni-text",{staticClass:"head-right",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.isNotice=!0,i.isTextarea=!1}}},[i._v("发票须知")]),e("v-uni-view",{staticClass:"form"},[e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("发票类型")]),e("v-uni-radio-group",{staticClass:"radio",on:{change:function(t){arguments[0]=t=i.$handleEvent(t),i.radioChange.apply(void 0,arguments)}}},[e("v-uni-radio",{attrs:{color:"#4285f4",value:"DInvoince"}}),e("v-uni-text",[i._v("电子普票")]),i.isDisabled?e("v-uni-radio",{attrs:{color:"#4285f4",value:"ZInvoince"}}):e("v-uni-radio",{attrs:{color:"#4285f4",value:"ZInvoince",disabled:"false"}}),e("v-uni-text",{style:i.isDisabled?"":"color:#999"},[i._v("专票")])],1)],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("发票抬头：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"企业开票请填写发票抬头"},model:{value:i.invoiceData.invoiceName,callback:function(t){i.$set(i.invoiceData,"invoiceName",t)},expression:"invoiceData.invoiceName"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("纳税人识别号：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"企业开票请填写纳税人识别号"},model:{value:i.invoiceData.invoiceNumber,callback:function(t){i.$set(i.invoiceData,"invoiceNumber",t)},expression:"invoiceData.invoiceNumber"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("开户银行名称：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"企业开票请填写开户银行名称"},model:{value:i.invoiceData.bankName,callback:function(t){i.$set(i.invoiceData,"bankName",t)},expression:"invoiceData.bankName"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("基本开户账号：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"企业开票请填写基本开户账号"},model:{value:i.invoiceData.bankCode,callback:function(t){i.$set(i.invoiceData,"bankCode",t)},expression:"invoiceData.bankCode"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("注册场所地址：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"企业开票请填写注册场所地址"},model:{value:i.invoiceData.cmpyAddress,callback:function(t){i.$set(i.invoiceData,"cmpyAddress",t)},expression:"invoiceData.cmpyAddress"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("注册固定电话：")]),e("v-uni-input",{attrs:{type:"text",placeholder:"企业开票请填写注册固定电话"},model:{value:i.invoiceData.mobile,callback:function(t){i.$set(i.invoiceData,"mobile",t)},expression:"invoiceData.mobile"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("发票项目：")]),e("v-uni-input",{attrs:{type:"text",value:"发票项目",disabled:"true"},model:{value:i.invoiceData.invoiceProject,callback:function(t){i.$set(i.invoiceData,"invoiceProject",t)},expression:"invoiceData.invoiceProject"}})],1),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("开票金额：")]),e("v-uni-input",{attrs:{type:"text",value:"￥"+i.totalSum+"元",disabled:"true"}})],1),e("v-uni-view",{staticClass:"label-list"},[i.isTextarea?e("v-uni-textarea",{attrs:{maxlength:"-1",placeholder:"备注","cursor-spacing":"70","show-confirm-bar":!1},model:{value:i.invoiceData.invoiceRemark,callback:function(t){i.$set(i.invoiceData,"invoiceRemark",t)},expression:"invoiceData.invoiceRemark"}}):e("v-uni-text",{staticClass:"textarea-text"},[i._v(i._s(""==i.invoiceData.invoiceRemark?"备注":i.invoiceData.invoiceRemark))])],1)],1),e("v-uni-view",{staticClass:"form"},["DInvoince"!=i.invoiceData.invoiceType?e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("收票人姓名")]),e("v-uni-input",{attrs:{type:"text",placeholder:"请填写收票人姓名"},model:{value:i.invoiceData.name,callback:function(t){i.$set(i.invoiceData,"name",t)},expression:"invoiceData.name"}})],1):i._e(),"DInvoince"!=i.invoiceData.invoiceType?e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("收票人手机")]),e("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请填写收票人手机"},model:{value:i.invoiceData.invoicePhone,callback:function(t){i.$set(i.invoiceData,"invoicePhone",t)},expression:"invoiceData.invoicePhone"}})],1):i._e(),e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("收票人邮箱")]),e("v-uni-input",{attrs:{type:"text",placeholder:"用来接收电子发票"},model:{value:i.invoiceData.reviceEmail,callback:function(t){i.$set(i.invoiceData,"reviceEmail",t)},expression:"invoiceData.reviceEmail"}})],1),"DInvoince"!=i.invoiceData.invoiceType?e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("收票地址")]),e("address-picker",{staticClass:"address",attrs:{disabled:!1},on:{change:function(t){arguments[0]=t=i.$handleEvent(t),i.cityPickerChange.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"txt",class:[""==i.city?"no-checked":""]},[i._v(i._s(""==i.city?"请选择":i.city))])],1)],1):i._e(),"DInvoince"!=i.invoiceData.invoiceType?e("v-uni-view",{staticClass:"label-list"},[e("v-uni-text",{staticClass:"name"},[i._v("详细地址")]),e("v-uni-input",{attrs:{type:"text",placeholder:"如凤凰小区一单元1501"},model:{value:i.address,callback:function(t){i.address=t},expression:"address"}})],1):i._e(),i.isFirstInvoice?e("v-uni-view",{staticClass:"label-list checkbox"},[e("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=i.$handleEvent(t),i.checkboxChange.apply(void 0,arguments)}}},[e("v-uni-checkbox",{staticClass:"orange",attrs:{checked:i.dataCheck}})],1),i._v("我已确认信息无误"),e("v-uni-text",[i._v("首次开票")])],1):i._e()],1),e("v-uni-button",{staticClass:"btn-default-css",on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.confirm.apply(void 0,arguments)}}},[i._v("确认开票")]),i.isNotice?e("v-uni-view",{on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.isNotice=!1,i.isTextarea=!0}}},[e("v-uni-view",{staticClass:"v-model"}),e("v-uni-view",{staticClass:"notice-popup"},[e("v-uni-text",{staticClass:"title"},[i._v("发票须知")]),e("v-uni-text",[i._v("1、已开具发票的充值金额原则上不予退费，开具发票时敬请留意！")]),e("v-uni-text",[i._v("2、每月可申请开具一次增值税专用发票，20号之前提交申请，25号统一寄出。")]),e("v-uni-text",[i._v("3、申请开具增值税专用发票需满1000元。")]),e("v-uni-text",[i._v("4、发货金额可进行累计统一开票。")]),e("v-uni-text",[i._v("5、已开具发票的金额不可二次开票，请妥善保存好纸质票据。")]),e("v-uni-text",[i._v("6、如有其他票据疑问，请添加客服微信（13811418661）进行线上咨询。")])],1)],1):i._e(),i.isInvoice?e("v-uni-view",[e("v-uni-view",{staticClass:"v-model"}),e("v-uni-view",{staticClass:"invoice-popup"},[e("v-uni-text",{staticClass:"title"},[i._v("发票信息确认")]),e("v-uni-view",{staticClass:"info-list"},[e("v-uni-text",[i._v("发票类型：")]),i._v(i._s("DInvoince"==i.invoiceData.invoiceType?"电子普票":"专票"))],1),e("v-uni-view",{staticClass:"info-list"},[e("v-uni-text",[i._v("发票抬头：")]),i._v(i._s(i.invoiceData.invoiceName))],1),e("v-uni-view",{staticClass:"info-list"},[e("v-uni-text",[i._v("纳税人识别号：")]),i._v(i._s(i.invoiceData.invoiceNumber))],1),"ZInvoince"==i.invoiceData.invoiceType?e("v-uni-view",{staticClass:"info-list"},[e("v-uni-text",[i._v("收票人手机号：")]),i._v(i._s(i.invoiceData.invoicePhone))],1):i._e(),e("v-uni-view",{staticClass:"btn"},[e("v-uni-text",{on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.isInvoice=!1,i.isTextarea=!0}}},[i._v("取消")]),e("v-uni-text",{on:{click:function(t){arguments[0]=t=i.$handleEvent(t),i.twoConfirm.apply(void 0,arguments)}}},[i._v("确认")])],1)],1)],1):i._e()],1)},o=[];e.d(t,"b",(function(){return n})),e.d(t,"c",(function(){return o})),e.d(t,"a",(function(){return a}))},"125f":function(i,t,e){var a=e("512e");"string"===typeof a&&(a=[[i.i,a,""]]),a.locals&&(i.exports=a.locals);var n=e("4f06").default;n("6522b1f2",a,!0,{sourceMap:!1,shadowMode:!1})},"21ca":function(i,t,e){"use strict";var a=e("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(e("1238"));var n={data:function(){return{totalSum:"",city:"",address:"",isNotice:!1,isInvoice:!1,dataCheck:!1,isFirstInvoice:!0,isTextarea:!0,invoiceData:{mastCodeList:[],invoiceType:"",invoiceName:"",invoiceNumber:"",invoiceProject:"",bankName:"",bankCode:"",cmpyAddress:"",mobile:"",invoiceRemark:"",name:"",invoicePhone:"",reviceEmail:""},isDisabled:!0}},created:function(){var i=this.$store.state.cmpInvoiceData,t=this;void 0!=i&&(t.totalSum=i.totalSum,t.invoiceData.mastCodeList=i.mastCode,t.totalSum<1e3&&(t.isDisabled=!1)),t.$util.networkRequest({url:"/CompanyInvoice/GetInvoiceCmpyInfo",method:"POST",data:JSON.stringify(t.invoiceData.mastCodeList),success:function(i){t.invoiceData.invoiceName=i.invoiceName,t.invoiceData.invoiceNumber=i.invoiceNumber,t.invoiceData.invoiceProject=i.invoiceProject,t.invoiceData.cmpyAddress=i.cmpyAddress,t.invoiceData.mobile=i.cmpyTel,t.invoiceData.bankName=i.bank,t.invoiceData.bankCode=i.bankAccount,t.invoiceData.name=i.name,t.invoiceData.invoicePhone=i.invoicePhone,t.isFirstInvoice=i.isFirstInvoice}})},methods:{confirm:function(){this.Valid()&&(this.isInvoice=!0,this.isTextarea=!1)},twoConfirm:function(){var i=this,t="",e="",a="";"ZInvoince"==i.invoiceData.invoiceType&&(t=i.invoiceData.name,e=i.invoiceData.invoicePhone,a=i.city+i.address);var n={rechargeCodeList:i.invoiceData.mastCodeList,billType:i.invoiceData.invoiceType,invoiceName:i.invoiceData.invoiceName,invoiceNumber:i.invoiceData.invoiceNumber,invoiceRemark:i.invoiceData.invoiceRemark,bank:i.invoiceData.bankName,bankAccount:i.invoiceData.bankCode,cmpyAddress:i.invoiceData.cmpyAddress,cmpyTel:i.invoiceData.mobile,name:t,phone:e,email:i.invoiceData.reviceEmail,address:a};i.isInvoice=!1,uni.showLoading({mask:!0,title:"开票中..."}),i.$util.networkRequest({url:"/CompanyInvoice/Post",method:"POST",data:n,success:function(i){if(null==i||!i)return!1;uni.showModal({title:"提示",content:"开票申请成功，等待审核!",showCancel:!1,success:function(){uni.redirectTo({url:"/pages/me/historicalInvoice"})}})}})},radioChange:function(i){this.invoiceData.invoiceType=i.detail.value},checkboxChange:function(){this.dataCheck=!this.dataCheck},cityPickerChange:function(i){this.city=i.detail.value[0]+"-"+i.detail.value[1]+"-"+i.detail.value[2]},Valid:function(){return this.$util.isNotEmpty(this.invoiceData.invoiceType)?this.$util.isNotEmpty(this.invoiceData.invoiceName)?this.$util.isNotEmpty(this.invoiceData.invoiceNumber)?this.$util.isNotEmpty(this.invoiceData.bankName)?this.$util.isNotEmpty(this.invoiceData.bankCode)?this.$util.isNotEmpty(this.invoiceData.cmpyAddress)?this.$util.isNotEmpty(this.invoiceData.mobile)?"ZInvoince"!=this.invoiceData.invoiceType||this.$util.isNotEmpty(this.invoiceData.name)?"ZInvoince"!=this.invoiceData.invoiceType||this.$util.isNotEmpty(this.invoiceData.invoicePhone)?this.$util.isNotEmpty(this.invoiceData.reviceEmail)?this.$util.isEmail(this.invoiceData.reviceEmail)?"ZInvoince"!=this.invoiceData.invoiceType||this.$util.isNotEmpty(this.city)?"ZInvoince"!=this.invoiceData.invoiceType||this.$util.isNotEmpty(this.address)?!(this.isFirstInvoice&&!this.dataCheck)||(this.$util.showToast("您是首次开票，请验证并确认开票信息无误"),!1):(this.$util.showToast("请填写收票人详细地址信息"),!1):(this.$util.showToast("请选择收票人地址信息"),!1):(this.$util.showToast("收票人邮箱格式错误"),!1):(this.$util.showToast("请填写收票人邮箱"),!1):(this.$util.showToast("请填写收票人手机"),!1):(this.$util.showToast("请填写收票人名称"),!1):(this.$util.showToast("请填写固定电话"),!1):(this.$util.showToast("请填写注册所在场地"),!1):(this.$util.showToast("请填写开户账号"),!1):(this.$util.showToast("请填写开户银行"),!1):(this.$util.showToast("请填写纳税人识别号"),!1):(this.$util.showToast("请填写发票抬头"),!1):(this.$util.showToast("请选择发票类型"),!1)}}};t.default=n},"512e":function(i,t,e){var a=e("24fb");t=a(!1),t.push([i.i,".page-bg[data-v-db66bdf4]{position:absolute;top:0;left:0;right:0;bottom:0;overflow-y:auto}.tips[data-v-db66bdf4]{color:#999;padding:10px 15px 0;font-size:12px;display:block}\n.form[data-v-db66bdf4]{background-color:#fff;overflow:hidden;margin-top:10px;position:relative}.form .label-list[data-v-db66bdf4]{border-top:1px solid #eee;margin:0 15px;padding:15px 0;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;margin-top:-1px;line-height:24px}.form .label-list .name[data-v-db66bdf4]{display:block;width:98px;line-height:20px;color:#999}.form .label-list .radio uni-text[data-v-db66bdf4]{float:left;margin-right:20px}.form .label-list uni-radio[data-v-db66bdf4]{-webkit-transform:scale(.6);transform:scale(.6);float:left}.form .label-list uni-input[data-v-db66bdf4],\r\n.form .label-list .address[data-v-db66bdf4]{line-height:20px;width:calc(100% - 98px);width:-webkit-calc(100% - 98px)}.form .label-list .address .txt[data-v-db66bdf4]{display:block}.form .label-list uni-textarea[data-v-db66bdf4],\r\n.form .label-list .textarea-text[data-v-db66bdf4]{display:block;width:calc(100% - 20px);width:-webkit-calc(100% - 20px);padding:8px 10px;background-color:#f7f7f7;resize:none;height:50px}.form .label-list .textarea-text[data-v-db66bdf4]{overflow:hidden}.form .label-list .no-checked[data-v-db66bdf4]{color:grey}.company-list[data-v-db66bdf4]{border:1px solid #f7f7f7;position:absolute;top:108px;left:15px;right:15px;z-index:2;background-color:#fff;height:220px;overflow-y:auto;z-index:99}.company-list uni-text[data-v-db66bdf4]{display:block;margin:10px 15px 10px}.invoice-popup[data-v-db66bdf4],\r\n.notice-popup[data-v-db66bdf4]{top:50%;position:fixed;background:#fff;left:20px;right:20px;font-size:15px;z-index:1000}.notice-popup[data-v-db66bdf4]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);padding-bottom:20px}.notice-popup uni-text[data-v-db66bdf4]{font-size:13px;color:#666;padding-bottom:4px;text-align:justify}.notice-popup uni-text[data-v-db66bdf4],\r\n.invoice-popup .title[data-v-db66bdf4]{display:block;padding:5px 15px 0}.notice-popup .title[data-v-db66bdf4],\r\n.invoice-popup .title[data-v-db66bdf4]{padding:10px 0;margin-bottom:15px;text-align:center;color:#333;font-size:14px;border-bottom:1px solid #efefef}.invoice-popup[data-v-db66bdf4]{margin-top:-130px}.invoice-popup .info-list[data-v-db66bdf4]{margin:0 15px 10px}.invoice-popup .info-list uni-text[data-v-db66bdf4]{color:#999}.invoice-popup .btn[data-v-db66bdf4]{display:-webkit-flex;display:-webkit-box;display:flex;padding-top:5px}.invoice-popup .btn uni-text[data-v-db66bdf4]{display:block;width:50%;height:40px;line-height:40px;color:#333;border-top:1px solid #eee;text-align:center}.invoice-popup .btn uni-text[data-v-db66bdf4]:last-child{border-left:1px solid #eee}.label-list.checkbox[data-v-db66bdf4]{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.label-list.checkbox uni-text[data-v-db66bdf4]{color:red;padding-left:3px}",""]),i.exports=t},"767d":function(i,t,e){"use strict";var a=e("125f"),n=e.n(a);n.a},ccd7:function(i,t,e){"use strict";e.r(t);var a=e("068a"),n=e("f911");for(var o in n)"default"!==o&&function(i){e.d(t,i,(function(){return n[i]}))}(o);e("767d");var s,c=e("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"db66bdf4",null,!1,a["a"],s);t["default"]=l.exports},f911:function(i,t,e){"use strict";e.r(t);var a=e("21ca"),n=e.n(a);for(var o in a)"default"!==o&&function(i){e.d(t,i,(function(){return a[i]}))}(o);t["default"]=n.a}}]);