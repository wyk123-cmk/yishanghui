(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-addressList"],{"301d":function(t,e,a){"use strict";var i=a("9f99"),n=a.n(i);n.a},"64bf":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".heard-custom[data-v-cfde9850]{\n\t\t/* background: #FFFFFF; */position:fixed;width:90%;display:-webkit-box;display:-webkit-flex;display:flex;padding:0 5%;z-index:10;-webkit-box-align:center;-webkit-align-items:center;align-items:center;text-align:center}.conter[data-v-cfde9850]{position:fixed;top:44px;width:100%;height:100%}.heard-custom .news[data-v-cfde9850]{position:absolute;padding:0 15px}.heard-custom .title_txt[data-v-cfde9850]{text-align:center;font-size:14px;margin-right:auto;-webkit-align-self:center;align-self:center;margin-left:100px}.wanc[data-v-cfde9850]{font-size:13px;padding:0 10px;height:25px;line-height:25px;text-align:center;border-radius:7px;-webkit-align-self:flex-end;align-self:flex-end;display:block}.search-box[data-v-cfde9850]{background-color:#fff;padding:8px 15px;display:-webkit-box;display:box}.search-box uni-input[data-v-cfde9850],\n\t.search-box uni-text[data-v-cfde9850]{height:35px;line-height:35px;background-color:#f7f7f7}.add_adde[data-v-cfde9850]{margin:0 auto}.search-box uni-input[data-v-cfde9850]{border-top-left-radius:4px;border-bottom-left-radius:4px;width:calc(100% - 40px);padding-left:10px}.ad_name[data-v-cfde9850]{font-size:15px}.search-box uni-text[data-v-cfde9850]{border-bottom-right-radius:4px;border-top-right-radius:4px;display:block;width:30px;text-align:center}.tab-nav[data-v-cfde9850]{background-color:#fff;line-height:35px;display:-webkit-box;display:flex;display:-webkit-flex;text-align:center}.tab-nav>uni-view[data-v-cfde9850]{width:50%}.tab-nav>uni-view uni-text[data-v-cfde9850]{width:60%;display:block;margin:0 auto}.tab-nav .active uni-text[data-v-cfde9850]{border-bottom:2px solid #4285f4}.scroll-wrapper.top[data-v-cfde9850]{top:50px}.scroll-wrapper[data-v-cfde9850]{position:absolute;top:90px;left:0;right:0;bottom:64px;overflow-y:auto}.address-list[data-v-cfde9850]{background-color:#fff;margin-top:10px;padding:15px 15px 8px;line-height:20px}.address-list .name[data-v-cfde9850]{font-size:15px;margin-right:8px}.address-list .status[data-v-cfde9850]{background:rgba(248,111,0,.2);color:#fd9523;font-size:12px;float:left;display:block;padding:0 4px;margin-right:8px;border-radius:2px}.address-list .address[data-v-cfde9850]{font-size:13px;color:#999;display:block}.address-list .icon-phone[data-v-cfde9850]{color:#469de2;padding-left:5px;float:right}.address_com[data-v-cfde9850]{font-size:14px;color:#666;display:block;padding:6px 0}.operate[data-v-cfde9850]{border-top:1px solid #eee;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:8px;padding-top:5px}.operate[data-v-cfde9850],\n\t.operate .checkbox uni-checkbox-group[data-v-cfde9850],\n\t.operate .item-icon[data-v-cfde9850]{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.operate .checkbox[data-v-cfde9850]{margin-left:-5px}.operate .item-icon[data-v-cfde9850]{float:left;color:#999;margin-left:10px}.operate .item-icon uni-text[data-v-cfde9850]{padding-right:3px}.btn[data-v-cfde9850]{background-color:#fff;position:fixed;bottom:0;left:0;right:0;padding:10px 15px;text-align:center}.btn uni-button[data-v-cfde9850]{background-color:#4285f4;color:#fff;line-height:44px;border-radius:20px}.no-more[data-v-cfde9850]{color:#999;text-align:center;padding:10px 0}",""]),t.exports=e},"75c9":function(t,e,a){"use strict";a.r(e);var i=a("df25"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},"797b":function(t,e,a){"use strict";var i,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page-bg"},[i("v-uni-view",{staticClass:"heard-custom",style:{marginTop:t.t+"px",height:t.h+"px","line-height":t.h+"px"}},[i("v-uni-text",{staticClass:"iconfont icon-fanhui-",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goback()}}}),i("v-uni-text",{staticClass:"title_txt"},[t._v("地址簿")]),i("v-uni-view",[i("v-uni-text",{staticClass:"wanc",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareADD()}}},[t._v("共享")])],1)],1),i("v-uni-view",{staticClass:"conter"},[i("v-uni-view",{staticClass:"search-box"},[i("v-uni-input",{attrs:{type:"text",placeholder:"请输入姓名/电话/公司"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.changeInput.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),i("v-uni-text",{staticClass:"iconfont icon-chaxun",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}}})],1),t.isCompanyData?i("v-uni-view",{staticClass:"tab-nav"},[i("v-uni-view",{class:[0==t.isActive?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTabNav(0)}}},[i("v-uni-text",[t._v("个人")])],1),i("v-uni-view",{class:[1==t.isActive?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindTabNav(1)}}},[i("v-uni-text",[t._v("企业")])],1)],1):t._e(),0==t.isActive?i("v-uni-view",[0==t.personalTotal?i("v-uni-view",{staticClass:"none-data-list"},[i("v-uni-image",{attrs:{src:a("bbfc")}}),t._v("暂无内容")],1):i("v-uni-scroll-view",{staticClass:"scroll-wrapper",class:[t.isCompanyData?"":"top"],attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.personalScrolltolower.apply(void 0,arguments)}}},[t._l(t.personalList,(function(e,a){return i("v-uni-view",{key:e.contactsCode,staticClass:"address-list"},[i("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.btnSetAddress(e)}}},[i("v-uni-view",{staticClass:"ad_name"},[e.isDefault?i("v-uni-text",{staticClass:"status"},[t._v("默认")]):t._e(),i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-text",[t._v(t._s(e.phone))]),i("v-uni-text",{staticClass:"iconfont icon-phone",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.phoneCall(e.phone)}}})],1),i("v-uni-text",{staticClass:"address_com"},[t._v(t._s(e.companyName))]),i("v-uni-text",{staticClass:"address"},[t._v(t._s(e.areaInfo.province+e.areaInfo.city+e.areaInfo.area+e.address))])],1),i("v-uni-view",{staticClass:"operate"},[i("v-uni-view",{staticClass:"checkbox"},[e.isDefault?t._e():i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.setDefault.apply(void 0,arguments)}}},[i("v-uni-checkbox",{staticClass:"orange",attrs:{value:e.contactsCode}}),i("v-uni-text",[t._v("设为默认地址")])],1)],1),i("v-uni-view",[i("v-uni-view",{staticClass:"item-icon",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.goEdit(e.contactsCode)}}},[i("v-uni-text",{staticClass:"iconfont icon-bianji2"}),t._v("编辑")],1),i("v-uni-view",{staticClass:"item-icon",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.remove(e.contactsCode,e.isShare)}}},[i("v-uni-text",{staticClass:"iconfont icon-shanchu"}),t._v("删除")],1)],1)],1)],1)})),t.personalList.length==t.personalTotal?i("v-uni-view",{staticClass:"no-more"},[t._v("没有更多了")]):t._e()],2)],1):t._e(),1==t.isActive?i("v-uni-view",[0==t.companyTotal?i("v-uni-view",{staticClass:"none-data-list"},[i("v-uni-image",{attrs:{src:a("bbfc")}}),t._v("暂无内容")],1):i("v-uni-scroll-view",{staticClass:"scroll-wrapper",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.companyScrolltolower.apply(void 0,arguments)}}},[t._l(t.companyList,(function(e,a){return i("v-uni-view",{key:e.contactsCode,staticClass:"address-list"},[i("v-uni-view",{on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.btnSetAddress(e)}}},[i("v-uni-view",[i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-text",[t._v(t._s(e.phone))]),i("v-uni-text",{staticClass:"iconfont icon-phone",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.phoneCall(e.phone)}}})],1),i("v-uni-text",{staticClass:"address"},[t._v(t._s(e.areaInfo.province+e.areaInfo.city+e.areaInfo.area+e.address))])],1)],1)})),t.companyList.length==t.companyTotal?i("v-uni-view",{staticClass:"no-more"},[t._v("没有更多了")]):t._e()],2)],1):t._e(),i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goEdit()}}},[i("v-uni-button",[t._v("新增地址")])],1)],1)],1)},s=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}))},"903a":function(t,e,a){"use strict";a.r(e);var i=a("797b"),n=a("75c9");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("301d");var o,c=a("f0c5"),r=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"cfde9850",null,!1,i["a"],o);e["default"]=r.exports},"9f99":function(t,e,a){var i=a("64bf");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("5ee4e910",i,!0,{sourceMap:!1,shadowMode:!1})},bbfc:function(t,e,a){t.exports=a.p+"static/img/none-dz.b2544671.svg"},df25:function(t,e,a){"use strict";a("99af"),a("4de4"),a("4160"),a("ac1f"),a("841c"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{keyword:"",type:"",isInit:!0,isActive:0,limit:5,code:"",personalPage:1,personalTotal:0,personalList:[],companyPage:1,companyTotal:0,companyList:[],isCompanyData:!1,t:0,h:44}},created:function(){},onLoad:function(t){var e=this;void 0!=t.type&&(this.type=t.type),void 0!=t.code&&(this.code=t.code),e.$util.networkRequest({url:"/Company/IsRegister",success:function(t){t&&(e.isCompanyData=!0)}})},onShow:function(){if(!this.isInit)return this.isInit=!0,!1;this.keyword="",this.search()},onBackPress:function(t){console.log(t.from),"backbutton"==t.from&&console.log("2343")},methods:{bindTabNav:function(t){if(this.isActive==t)return!1;this.isActive=t},shareADD:function(){uni.navigateTo({url:"/pages/news/shareAddress"})},changeInput:function(t){this.keyword=t.detail.value,this.search()},goback:function(){uni.navigateBack({})},search:function(){this.personalPage=1,this.personalTotal=0,this.personalList=[],this.companyPage=1,this.companyTotal=0,this.companyList=[],this.personalAddressList(),this.companyAddressList()},personalScrolltolower:function(){Math.ceil(this.personalTotal/this.limit)>=this.personalPage&&this.personalAddressList()},personalAddressList:function(){var t=this;t.getList(t.personalPage,1,(function(e){t.personalPage++,t.personalTotal=e.total,t.personalList=t.personalList.concat(e.list)}))},companyScrolltolower:function(){Math.ceil(this.companyTotal/this.limit)>=this.companyPage&&this.companyAddressList()},companyAddressList:function(){var t=this;t.getList(t.companyPage,2,(function(e){t.companyPage++,t.companyTotal=e.total,t.companyList=t.companyList.concat(e.list)}))},setDefault:function(t){var e=t.detail.value[0],a=this;uni.showLoading({title:"加载中..."}),a.$util.networkRequest({url:"/AddressBook/SetDefault",method:"POST",data:{value:e},success:function(t){a.keyword="",a.$store.state.expressDeliveryInfo["repAddress"].contactsCode==e&&(a.$store.state.expressDeliveryInfo["repAddress"]={}),a.search()}})},remove:function(t,e){var a=this,i="您确定要删除吗？";e&&(i="该地址已与企业成员共享，删除后成员将不可见？"),uni.showModal({title:"提示",content:i,success:function(e){e.confirm&&a.$util.networkRequest({url:"/AddressBook/Remove",data:{value:t},method:"POST",success:function(e){uni.showToast({title:"删除成功",duration:2e3,icon:"none"}),0==a.isActive&&(a.personalList=a.personalList.filter((function(e){return e.contactsCode!=t})),a.companyPage=1,a.companyTotal=0,a.companyList=[],a.companyAddressList())}})}})},getList:function(t,e,a){var i=this;uni.showLoading({title:"加载中..."}),i.$util.networkRequest({url:"/AddressBook/GetListByPage",data:{page:t,limit:i.limit,bookType:e,keyword:i.keyword},success:function(t){var e=t.total;if(0==e||0==t.list.length)return!1;a&&a(t)}})},goEdit:function(t){t=void 0==t?"":t,uni.navigateTo({url:"/pages/me/addressEdit?addresscode="+t+"&type="+this.type})},btnSetAddress:function(t){console.log(t);var e=this;if(""==this.type)return!1;var a=t.contactsCode,i={name:t.name,contactsCode:a,address:t.areaInfo.province+t.areaInfo.city+t.areaInfo.area+t.address,ad:t.address,areaCode:t.areaInfo.areaCode,phone:t.phone,yfaddress:t.areaInfo.province+t.areaInfo.city+t.areaInfo.area};if("send"==this.type){var n=this.$store.state.batchOrderInfo.list,s=!0;if(0!=n.length)n.forEach((function(t,i){t.repAddress.contactsCode==a&&(e.$util.showToast("寄件人不能和收件人一致"),s=!1),console.log(t.repAddress.contactsCode,a)}));else if("{}"!=JSON.stringify(this.$store.state.expressDeliveryInfo["repAddress"])&&this.$store.state.expressDeliveryInfo["repAddress"].contactsCode==a)return this.$util.showToast("寄件人不能和收件人一致"),!1;if(!s)return!1;this.$store.state.expressDeliveryInfo["sendAddress"]=i}if("rep"==this.type){if("{}"!=JSON.stringify(this.$store.state.expressDeliveryInfo["sendAddress"])){if(this.$store.state.expressDeliveryInfo["sendAddress"].contactsCode==a)return this.$util.showToast("收件人不能和寄件人一致"),!1}else if(console.log("43534"),t.isDefault&&this.code==a)return this.$util.showToast("收件人不能和寄件人一致"),!1;this.$store.state.expressDeliveryInfo["repAddress"]=i}this.$util.navigateBack(this)},phoneCall:function(t){this.isInit=!1,uni.makePhoneCall({phoneNumber:t})}}};e.default=i}}]);