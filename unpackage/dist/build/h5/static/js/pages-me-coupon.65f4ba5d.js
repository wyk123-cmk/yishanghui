(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-coupon"],{"09a7":function(t,a,i){"use strict";i("99af"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{tabIndex:0,userType:"indi",limit:10,usablePage:1,usableTotal:0,usableData:[],alreadyUsablePage:1,alreadyUsableTotal:0,alreadyUsableData:[],invalidPage:1,invalidTotal:0,invalidData:[]}},onLoad:function(t){var a="indi"==t.type?"我的优惠券":"企业优惠券";uni.setNavigationBarTitle({title:a}),this.userType=t.type},onShow:function(){this.usablePage=1,this.usableTotal=0,this.usableData=[],this.alreadyUsablePage=1,this.alreadyUsableTotal=0,this.alreadyUsableData=[],this.invalidPage=1,this.invalidTotal=0,this.invalidData=[],this.getCouponList(0),this.getCouponList(1),this.getCouponList(2)},methods:{gojkd:function(t){var a="";a=t<3?"small":"big",uni.navigateTo({url:"/pages/index/expressDelivery?type="+a})},clickTab:function(t){this.tabIndex!=t&&(this.tabIndex=t,0==t&&0==this.usableData.length&&this.getCouponList(t),1==t&&0==this.alreadyUsableData.length&&this.getCouponList(t),2==t&&0==this.invalidData.length&&this.getCouponList(t))},usableScroll:function(t){Math.ceil(this.usableTotal/this.limit)>=this.usablePage&&this.getCouponList(0)},alreadyUsableScroll:function(t){Math.ceil(this.alreadyUsableTotal/this.limit)>=this.alreadyUsablePage&&this.getCouponList(1)},invalidScroll:function(t){Math.ceil(this.invalidTotal/this.limit)>=this.invalidPage&&this.getCouponList(2)},getCouponList:function(t){var a=this,i=1;0==t&&(i=a.usablePage),1==t&&(i=a.alreadyUsablePage),2==t&&(i=a.invalidPage);var n={userType:a.userType,limit:a.limit,claimType:t,page:i};a.$util.networkRequest({url:"/Coupon/GetPageUserList",data:n,success:function(i){if(null==i)return!1;var n=i.total;0==t&&(a.usablePage++,a.usableData=a.usableData.concat(i.list),a.usableTotal=n),1==t&&(a.alreadyUsablePage++,a.alreadyUsableData=a.alreadyUsableData.concat(i.list),a.alreadyUsableTotal=n),2==t&&(a.invalidPage++,a.invalidData=a.invalidData.concat(i.list),a.invalidTotal=n)}})}}};a.default=n},"153a":function(t,a,i){"use strict";var n=i("a450"),e=i.n(n);e.a},2046:function(t,a,i){"use strict";var n,e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-uni-view",{staticClass:"page-bg"},[n("v-uni-view",{staticClass:"nav-tab"},[n("v-uni-text",{class:[0==t.tabIndex?"active":""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickTab(0)}}},[t._v("可用券("+t._s(t.usableTotal)+")")]),n("v-uni-text",{class:[1==t.tabIndex?"active":""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickTab(1)}}},[t._v("已用券("+t._s(t.alreadyUsableTotal)+")")]),n("v-uni-text",{class:[2==t.tabIndex?"active":""],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickTab(2)}}},[t._v("失效券("+t._s(t.invalidTotal)+")")])],1),0==t.tabIndex?n("v-uni-view",[0==t.usableTotal?n("v-uni-view",{staticClass:"none-data-list"},[n("v-uni-image",{attrs:{src:i("7a82")}}),t._v("暂无内容")],1):n("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.usableScroll.apply(void 0,arguments)}}},t._l(t.usableData,(function(a,i){return n("v-uni-view",{key:i,staticClass:"coupon-list",class:["1"==a.isget&&"2"==a.status?"none":""]},[n("v-uni-view",{staticClass:"amount"},[n("v-uni-view",[t._v("¥"),n("v-uni-text",[t._v(t._s(a.amount))])],1),t._v("优惠券")],1),n("v-uni-view",{staticClass:"info"},[n("v-uni-text",{staticClass:"order-num"},[t._v(t._s("2"==a.status||"3"==a.status?a.orderNumDetail:""))]),n("v-uni-text",[t._v(t._s(a.fullReducAmount))]),n("v-uni-text",[t._v(t._s(a.overdate))]),null!=a.count||a.count>1||void 0!=a.count?n("v-uni-text",[t._v("剩余数量: "+t._s(a.count))]):t._e()],1),n("v-uni-text",{staticClass:"btn share",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.gojkd(a.amount)}}},[t._v("立即使用")])],1)})),1)],1):t._e(),1==t.tabIndex?n("v-uni-view",[0==t.alreadyUsableTotal?n("v-uni-view",{staticClass:"none-data-list"},[n("v-uni-image",{attrs:{src:i("7a82")}}),t._v("暂无内容")],1):n("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.alreadyUsableScroll.apply(void 0,arguments)}}},t._l(t.alreadyUsableData,(function(a,e){return n("v-uni-view",{key:e,staticClass:"coupon-list"},[n("v-uni-view",{staticClass:"amount"},[n("v-uni-view",[t._v("¥"),n("v-uni-text",[t._v(t._s(a.amount))])],1),t._v("优惠券")],1),n("v-uni-view",{staticClass:"info"},[n("v-uni-text",{staticClass:"order-num"},[t._v(t._s("2"==a.status||"3"==a.status?a.orderNumDetail:""))]),n("v-uni-text",[t._v(t._s(a.fullReducAmount))]),n("v-uni-text",[t._v(t._s(a.overdate))]),null!=a.count||a.count>1||void 0!=a.count?n("v-uni-text",[t._v("已用数量: "+t._s(a.count))]):t._e()],1),n("v-uni-image",{attrs:{src:i("570d")}})],1)})),1)],1):t._e(),2==t.tabIndex?n("v-uni-view",[0==t.invalidTotal?n("v-uni-view",{staticClass:"none-data-list"},[n("v-uni-image",{attrs:{src:i("7a82")}}),t._v("暂无内容")],1):n("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.invalidScroll.apply(void 0,arguments)}}},t._l(t.invalidData,(function(a,e){return n("v-uni-view",{key:e,staticClass:"coupon-list"},[n("v-uni-view",{staticClass:"amount"},[n("v-uni-view",[t._v("¥"),n("v-uni-text",[t._v(t._s(a.amount))])],1),t._v("优惠券")],1),n("v-uni-view",{staticClass:"info"},[n("v-uni-text",{staticClass:"order-num"},[t._v(t._s("2"==a.status||"3"==a.status?a.orderNumDetail:""))]),n("v-uni-text",[t._v(t._s(a.fullReducAmount))]),n("v-uni-text",[t._v(t._s(a.overdate))]),null!=a.count||a.count>1||void 0!=a.count?n("v-uni-text",[t._v("失效数量: "+t._s(a.count))]):t._e()],1),n("v-uni-image",{attrs:{src:i("b534")}})],1)})),1)],1):t._e(),n("v-uni-navigator",{staticClass:"footer",attrs:{url:"/pages/me/moreCoupon"}},[t._v("去领券中心"),n("v-uni-text",[t._v("领更多优惠券")])],1)],1)},o=[];i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return o})),i.d(a,"a",(function(){return n}))},"3f46":function(t,a,i){"use strict";i.r(a);var n=i("09a7"),e=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(a,t,(function(){return n[t]}))}(o);a["default"]=e.a},"570d":function(t,a,i){t.exports=i.p+"static/img/yiyong.7c11a7be.svg"},"60cf":function(t,a,i){"use strict";i.r(a);var n=i("2046"),e=i("3f46");for(var o in e)"default"!==o&&function(t){i.d(a,t,(function(){return e[t]}))}(o);i("153a");var s,l=i("f0c5"),u=Object(l["a"])(e["default"],n["b"],n["c"],!1,null,"49d273bf",null,!1,n["a"],s);a["default"]=u.exports},"7a82":function(t,a,i){t.exports=i.p+"static/img/none.6cc20ceb.svg"},a450:function(t,a,i){var n=i("ec0e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("5f4359fb",n,!0,{sourceMap:!1,shadowMode:!1})},b534:function(t,a,i){t.exports=i.p+"static/img/shixiao.f1735214.svg"},ec0e:function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,'.nav-tab[data-v-49d273bf]{background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;line-height:30px}.nav-tab uni-text[data-v-49d273bf]{padding:0 5px;text-align:center}.nav-tab uni-text.active[data-v-49d273bf]{border-bottom:2px solid #ff1d21;color:#ff0004}.tab-con[data-v-49d273bf]{position:absolute;top:30px;left:0;right:0;bottom:52px;overflow-y:auto}.coupon-list[data-v-49d273bf]{background-image:-webkit-linear-gradient(0deg,#ff7742,#ff4544);background-image:-moz-linear-gradient(0deg,#ff7742 0,#ff4544 100%);background-image:-o-linear-gradient(0deg,#ff7742 0,#ff4544 100%);background-image:-webkit-linear-gradient(left,#ff7742,#ff4544);background-image:linear-gradient(90deg,#ff7742,#ff4544);border-radius:6px;height:90px;margin:12px 15px 0;display:box;display:-webkit-box;position:relative;overflow:hidden}.coupon-list[data-v-49d273bf]:last-child{margin-bottom:20px}.coupon-list.none[data-v-49d273bf]{background-color:#999;background-image:none}.coupon-list .amount[data-v-49d273bf]{color:#fff;padding:0 10px;text-align:center;padding-top:15px}.page-bg[data-v-49d273bf]{background:#fff}.coupon-list .amount>uni-view[data-v-49d273bf]{color:#fff}.coupon-list .amount>uni-view uni-text[data-v-49d273bf]{font-size:28px}.coupon-list .info[data-v-49d273bf]{color:#fff;padding-top:5px;width:calc(100% - 144px);width:-webkit-calc(100% - 144px)}.coupon-list .info uni-text[data-v-49d273bf]{display:block;line-height:16px;margin-bottom:5px;min-height:16px;font-size:13px}.coupon-list .info uni-text.order-num[data-v-49d273bf]{font-size:14px}.coupon-list .btn[data-v-49d273bf]{margin-top:34px;line-height:28px;padding:0 8px;border-radius:16px;display:block;color:#666;background-color:#fff;position:absolute;right:10px;z-index:2}.coupon-list.none .btn[data-v-49d273bf]{color:#999}.coupon-list .btn.share[data-v-49d273bf]{color:#ff4944}.coupon-list .iconfont.icon-yl[data-v-49d273bf]{font-size:50px;color:#fff;margin-top:47px;position:absolute;right:-8px}.coupon-list uni-image[data-v-49d273bf]{position:absolute;top:0;right:0;width:57px;height:57px}.my_conpou[data-v-49d273bf]{background-color:#fff;position:fixed;left:0;right:0;bottom:0;text-align:center;padding:15px 0;box-shadow:0 -1px 5px 1px #dcdcdc;-webkit-box-shadow:0 -1px 5px 1px #dcdcdc;z-index:2}.iconfont[data-v-49d273bf]{font-family:iconfont!important;font-style:normal;font-size:15px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.yjt[data-v-49d273bf]:after{content:">";color:#dbdbdb;font-size:16px;padding-left:6px;font-weight:400}.scroll-box[data-v-49d273bf]{position:absolute;top:30px;bottom:50px;left:0;right:0}.footer[data-v-49d273bf]{background-color:#fff;position:fixed;left:0;right:0;bottom:0;text-align:center;padding:15px 0;box-shadow:0 -1px 5px 1px #dcdcdc;-webkit-box-shadow:0 -1px 5px 1px #dcdcdc}.footer uni-text[data-v-49d273bf]{background-color:#ff6f42;color:#fff;padding:3px 6px;border-radius:26px;margin-left:16px}',""]),t.exports=a}}]);