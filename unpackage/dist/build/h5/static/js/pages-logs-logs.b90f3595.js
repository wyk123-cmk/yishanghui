(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-logs-logs"],{4546:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,".content[data-v-6eaef215]{padding:0 25px}.main .logo-img[data-v-6eaef215]{width:50px;height:50px;display:block;padding-top:45px}\n.main .logo-img[data-v-6eaef215]{padding-top:80px}\n.main uni-text[data-v-6eaef215]{display:block}.main .title[data-v-6eaef215]{font-size:22px;margin-top:25px;font-weight:700;letter-spacing:2px}.main .note[data-v-6eaef215]{color:#999;font-size:12px}.main .form[data-v-6eaef215]{margin-top:40px;display:block}.main .form .input-column[data-v-6eaef215]{border-bottom:1px solid #eee;display:-webkit-box;display:flex;display:-webkit-flex;margin-top:22px;height:26px;line-height:26px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.main .form .input-column uni-input[data-v-6eaef215]{line-height:26px;width:70%}.main .form .input-column .code-btn[data-v-6eaef215]{text-align:right;color:#4285f4}.main .form uni-button[data-v-6eaef215]{background-color:#4285f4;color:#fff;width:100%;margin-top:30px}.login-model[data-v-6eaef215]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:98}.v-modal[data-v-6eaef215]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);z-index:99}.login-model .box[data-v-6eaef215]{background:#fff;border-radius:5px;position:absolute;top:50%;margin-top:-105px;left:25px;right:25px;z-index:100}.login-model .box uni-text[data-v-6eaef215]{display:block;font-size:15px}.login-model .title[data-v-6eaef215]{text-align:center;font-size:16px;height:44px;line-height:44px;border-bottom:1px solid #ddd;margin-bottom:10px}.login-model .box uni-text.icon-weixin[data-v-6eaef215]{text-align:center;color:#46bb36;font-size:40px}.login-model .box uni-text.txt[data-v-6eaef215]{padding:10px 15px 0}.login-model .box uni-text.note[data-v-6eaef215]{color:#888}.login-model .box uni-button[data-v-6eaef215]{margin:25px 15px;border-radius:25px;font-size:15px}",""]),t.exports=e},"467a":function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"content"},[t.isShow?o("v-uni-view",{staticClass:"login-model"},[o("v-uni-view",{staticClass:"v-modal"}),o("v-uni-view",{staticClass:"box"},[o("v-uni-text",{staticClass:"title"},[t._v("授权登录")]),o("v-uni-text",{staticClass:"txt"},[t._v("申请获取以下权限")]),o("v-uni-text",{staticClass:"txt note"},[t._v("获得你的公开信息(昵称，头像等)")]),o("v-uni-button",{attrs:{type:"primary","open-type":"getUserInfo"},on:{getuserinfo:function(e){arguments[0]=e=t.$handleEvent(e),t.bindGetUserInfo.apply(void 0,arguments)}}},[t._v("授权登录")])],1)],1):t._e(),o("v-uni-view",{staticClass:"main"},[o("v-uni-image",{staticClass:"logo-img",attrs:{src:i("7de5")}}),o("v-uni-text",{staticClass:"title"},[t._v("手机号快捷登录")]),o("v-uni-text",{staticClass:"note"},[t._v("未注册用户登录默认成为平台用户")]),o("v-uni-form",{staticClass:"form"},[o("v-uni-view",{staticClass:"input-column"},[o("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),o("v-uni-view",{staticClass:"input-column"},[o("v-uni-input",{staticClass:"code",attrs:{type:"number",placeholder:"请输入验证码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),o("v-uni-view",{staticClass:"code-btn"},[t.isGetCode?o("v-uni-text",[t._v(t._s(t.codeTime)+" s")]):o("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sendCode.apply(void 0,arguments)}}},[t._v("获取验证码")])],1)],1),o("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnLogin.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1)},a=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}))},5810:function(t,e,i){"use strict";i.r(e);var o=i("ba7f"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},"7de5":function(t,e,i){t.exports=i.p+"static/img/logo-img.05c04036.svg"},"98b6":function(t,e,i){"use strict";var o=i("c0ee"),n=i.n(o);n.a},ba7f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{isShow:!1,openId:"",phone:"",code:"",codeTime:60,isGetCode:!1,jumpUrl:"",type:"",fromCode:""}},onLoad:function(t){void 0!=t.openid&&(this.openId=t.openid),void 0!=t.url&&(this.jumpUrl=t.url),void 0!=t.type&&(this.type=t.type),void 0!=t.fromCode&&(this.fromCode=t.fromCode)},onShow:function(){this.code=""},onUnload:function(){this.$util.isGoLogin=!0},methods:{sendCode:function(){var t=this;if(!t.valid(!1))return!1;uni.showLoading({mask:!0,title:"加载中..."}),t.$util.networkRequest({url:"/Account/SendCode",method:"POST",data:{phone:t.phone},success:function(e){if(e){t.isGetCode=!0;var i=setInterval((function(){t.codeTime--,t.codeTime<=0&&(t.isGetCode=!1,t.codeTime=60,clearInterval(i))}),1e3)}}})},btnLogin:function(){if(!this.valid(!0))return!1;var t=this;uni.showLoading({mask:!0,title:"登录中..."});var e={phone:t.phone,code:t.code,fromCode:t.fromCode};e["openId"]=t.openId,t.$util.networkRequest({url:"/Account/Login",method:"POST",data:e,success:function(e){uni.setStorage({key:"token",data:e}),t.getIsFinish(e)}})},getIsFinish:function(t){var e=this;e.$util.networkRequest({url:"/Account/GetIsFinish",header:{appId:e.appId,token:t},data:{token:t},success:function(t){if(t){if(""==e.jumpUrl)return window.location.href="/pages/index/index",!1;1==e.type?window.location.href=e.jumpUrl:uni.redirectTo({url:e.jumpUrl})}else uni.navigateTo({url:"/pages/logs/peopleInfo?type=0"})}})},valid:function(t){return this.$util.isNotEmpty(this.phone)?this.$util.isPhoneNumber(this.phone)?!(t&&!this.$util.isNotEmpty(this.code))||(this.$util.showToast("请输入短信验证码"),!1):(this.$util.showToast("手机格式有误，请输入有效的手机号"),!1):(this.$util.showToast("请输入手机号"),!1)},bindGetUserInfo:function(t){var e=this;t.detail.userInfo?(uni.showLoading({title:"正在授权...",mask:!0}),uni.setStorage({key:"wxauthorize",data:"true"}),e.$util._mp_wx_login(null,(function(t){e.isShow=!1,1==t.status&&uni.showModal({title:"提示",content:"授权登录成功!",showCancel:!1,success:function(t){""!=e.jumpUrl?uni.redirectTo({url:e.jumpUrl}):uni.navigateBack({delta:1})}}),2==t.status&&(e.openId=t.openId)}))):uni.showModal({title:"提示",content:"拒绝授权后,功能将不能使用!",showCancel:!1})}}};e.default=o},c0ee:function(t,e,i){var o=i("4546");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("f8c109f4",o,!0,{sourceMap:!1,shadowMode:!1})},f90e:function(t,e,i){"use strict";i.r(e);var o=i("467a"),n=i("5810");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("98b6");var s,u=i("f0c5"),d=Object(u["a"])(n["default"],o["b"],o["c"],!1,null,"6eaef215",null,!1,o["a"],s);e["default"]=d.exports}}]);