(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-memberList"],{2732:function(t,i,e){"use strict";var n=e("45a3"),a=e.n(n);a.a},"27f1":function(t,i,e){t.exports=e.p+"static/img/none-ry.9433ea37.svg"},"45a3":function(t,i,e){var n=e("99cc");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("35d1e676",n,!0,{sourceMap:!1,shadowMode:!1})},"46ec":function(t,i,e){"use strict";var n,a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"page-bg"},[n("v-uni-navigator",{attrs:{url:"/pages/me/addMember"}},[n("v-uni-text",{staticClass:"iconfont icon-add-cy"})],1),n("v-uni-view",{staticClass:"search"},[n("v-uni-text",{staticClass:"iconfont icon-chaxun"}),n("v-uni-input",{attrs:{type:"text",placeholder:"搜索"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.inputSearch.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(i){t.keyword=i},expression:"keyword"}})],1),0==t.total?n("v-uni-view",{staticClass:"none-data-list"},[n("v-uni-image",{attrs:{src:e("27f1")}}),t._v("暂无内容")],1):n("v-uni-scroll-view",{staticClass:"scroll-wrapper",attrs:{"scroll-y":"true"},on:{scrolltolower:function(i){arguments[0]=i=t.$handleEvent(i),t.scrolltolower.apply(void 0,arguments)}}},t._l(t.dataList,(function(i,e){return n("v-uni-view",{key:e,staticClass:"list-call",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.actionSheet(i.id)}}},[t._v(t._s(i.userName)),n("v-uni-text",{staticClass:"phone"},[t._v(t._s(i.phone))]),i.isMaster?n("v-uni-text",{staticClass:"admin"},[t._v("管理员")]):t._e()],1)})),1)],1)},o=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}))},"5c7f":function(t,i,e){"use strict";e.r(i);var n=e("a99e"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},7809:function(t,i,e){"use strict";e.r(i);var n=e("46ec"),a=e("5c7f");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("2732");var s,c=e("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"2a4d9fb2",null,!1,n["a"],s);i["default"]=r.exports},"99cc":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,".iconfont.icon-add-cy[data-v-2a4d9fb2]{position:fixed;z-index:1000;color:#4385f5}\n.iconfont.icon-add-cy[data-v-2a4d9fb2]{top:10px;right:10px;font-size:20px}\n.search[data-v-2a4d9fb2]{border-top:1px solid #f7f7f7;display:box;display:-webkit-box;padding:10px 15px;line-height:34px;background-color:#fff}.search uni-text[data-v-2a4d9fb2]{background-color:#f7f7f7;display:block;width:30px;text-align:center;border-top-left-radius:20px;border-bottom-left-radius:20px}.search uni-input[data-v-2a4d9fb2]{height:34px;line-height:34px;background-color:#f7f7f7;width:calc(100% - 30px);width:-webkit-calc(100% - 30px);border-top-right-radius:20px;border-bottom-right-radius:20px}.scroll-wrapper[data-v-2a4d9fb2]{position:absolute;top:55px;left:0;right:0;bottom:0;padding-top:8px}.list-call[data-v-2a4d9fb2]{display:-webkit-box;display:flex;display:-webkit-flex;background-color:#fff;padding:10px 15px;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:26px;margin-bottom:8px}.list-call .phone[data-v-2a4d9fb2]{color:#999;padding:0 5px}.list-call .admin[data-v-2a4d9fb2]{background:#fd9523;color:#fff;font-size:12px;line-height:20px;padding:0 2px;border-radius:4px}",""]),t.exports=i},a99e:function(t,i,e){"use strict";e("99af"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{page:1,limit:15,total:0,keyword:"",dataList:[]}},onShow:function(){this.keyword="",this.init()},methods:{init:function(){this.page=1,this.dataList=[],this.getList()},inputSearch:function(t){this.keyword=t.detail.value,this.init()},actionSheet:function(t){var i=this;uni.showActionSheet({itemList:["设置管理员","删除"],success:function(e){0==e.tapIndex&&i.setAdmin(t),1==e.tapIndex&&i.deleteAdmin(t)}})},setAdmin:function(t){var i=this;uni.showLoading({title:"加载中..."}),i.$util.networkRequest({url:"/CompanyUser/SetMaster",method:"POST",data:{value:t},success:function(t){i.$util.showToast("管理员设置成功"),i.init()}})},deleteAdmin:function(t){var i=this;t<=0?i.$util.showToast("请选择删除的员工信息"):uni.showModal({title:"提示",content:"确定要删除吗?",success:function(e){e.confirm&&(uni.showLoading({mask:!0,title:"加载中..."}),i.$util.networkRequest({url:"/CompanyUser/DelUser",method:"POST",data:JSON.stringify([t]),success:function(t){uni.showModal({title:"提示",content:"删除成功",showCancel:!1,success:function(){i.init()}})}}))}})},scrolltolower:function(){Math.ceil(this.total/this.limit)>=this.page&&this.getList()},getList:function(){var t=this;uni.showLoading({title:"加载中..."}),t.$util.networkRequest({url:"/CompanyUser/GetList",data:{page:t.page,limit:t.limit,keyWord:t.keyword},success:function(i){var e=i.total;if(t.total=e,0==e||0==i.list.length)return!1;t.page++,t.dataList=t.dataList.concat(i.list)}})}}};i.default=n}}]);