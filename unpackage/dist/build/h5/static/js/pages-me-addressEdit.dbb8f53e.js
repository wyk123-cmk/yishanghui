(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-addressEdit"],{"01b5":function(t,e,a){"use strict";var i=a("6b45"),n=a.n(i);n.a},"1de5":function(t,e,a){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},2392:function(t,e,a){"use strict";a.r(e);var i=a("a7f2"),n=a("73a8");for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);a("d6ed"),a("01b5");var o,d=a("f0c5"),r=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"1dd6c208",null,!1,i["a"],o);e["default"]=r.exports},"5c5f":function(t,e,a){var i=a("24fb"),n=a("1de5"),s=a("897b");e=i(!1);var o=n(s);e.push([t.i,"uni-page-body[data-v-1dd6c208]{background-color:#f7f7f7}.label-input-item[data-v-1dd6c208]{border-top:1px solid #eee;background-color:#fff;padding:10px 15px;position:relative;line-height:30px}.label-input-item uni-input[data-v-1dd6c208]{line-height:30px;height:30px}.label-input-item uni-checkbox-group[data-v-1dd6c208]{display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.label-input-item .clean[data-v-1dd6c208]{float:right;color:#fd9523}.label-input-item.textarea[data-v-1dd6c208]{margin-top:8px;padding:20px 15px;border:0}.label-input-item.textarea > uni-view[data-v-1dd6c208]{height:115px;border:1px solid #eee}.label-input-item.textarea uni-textarea[data-v-1dd6c208]{color:#999;line-height:22px;border-radius:4px;padding:8px;width:calc(100% - 16px);width:-webkit-calc(100% - 16px);height:65px}.label-input-item.textarea .bottom[data-v-1dd6c208]{position:absolute;bottom:25px;right:20px;z-index:99}.label-input-item.textarea .tips[data-v-1dd6c208]{font-size:12px;text-align:right;color:red;padding-right:6px}.label-input-item.textarea .text-btn[data-v-1dd6c208]{background:#fd9523;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px}.label-input-item uni-checkbox-group[data-v-1dd6c208],\r\n.label-input-item .no-checked[data-v-1dd6c208]{color:grey}.btn[data-v-1dd6c208]{position:fixed;left:0;right:0;bottom:0;background-color:#fff;padding:10px 15px;z-index:100}.btn uni-button[data-v-1dd6c208]{background-color:#4285f4;color:#fff;line-height:44px;border-radius:20px}.label-input-item.switch[data-v-1dd6c208]{margin-top:8px;border-top:0;color:grey}.label-input-item.switch .switch-btn[data-v-1dd6c208]{float:right}.voice[data-v-1dd6c208]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-right:5px;color:grey}.voice uni-image[data-v-1dd6c208]{width:12px;height:16px;margin-right:5px}.talk[data-v-1dd6c208]{position:fixed;top:50%;left:40px;right:40px;z-index:1000;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);background-color:#fff;border-radius:10px;text-align:center;color:#9b9b9b}.talk .title[data-v-1dd6c208]{text-align:center;font-size:16px;padding:20px 0}.talk .img[data-v-1dd6c208]{background:url("+o+");background-size:50px 60px;width:50px;height:60px;margin:0 auto 20px}.talk uni-text[data-v-1dd6c208]{display:block;padding-bottom:20px}body.?%PAGE?%[data-v-1dd6c208]{background-color:#f7f7f7}",""]),t.exports=e},"6b45":function(t,e,a){var i=a("5c5f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("bf215592",i,!0,{sourceMap:!1,shadowMode:!1})},"73a8":function(t,e,a){"use strict";a.r(e);var i=a("f892"),n=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);e["default"]=n.a},8978:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-1dd6c208]{background-color:#f7f7f7}body.?%PAGE?%[data-v-1dd6c208]{background-color:#f7f7f7}",""]),t.exports=e},"897b":function(t,e,a){t.exports=a.p+"static/img/voice.1a152ade.png"},a7f2:function(t,e,a){"use strict";var i={addressPicker:a("1238").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticStyle:{"padding-bottom":"80px"}},[i("v-uni-view",{staticClass:"label-input-item"},[i("v-uni-input",{attrs:{type:"text",placeholder:"姓名"},model:{value:t.addressInfo.name,callback:function(e){t.$set(t.addressInfo,"name",e)},expression:"addressInfo.name"}})],1),i("v-uni-view",{staticClass:"label-input-item"},[i("v-uni-input",{attrs:{type:"text",placeholder:"手机号"},model:{value:t.addressInfo.phone,callback:function(e){t.$set(t.addressInfo,"phone",e)},expression:"addressInfo.phone"}})],1),i("v-uni-view",{staticClass:"label-input-item"},[i("address-picker",{staticClass:"address",attrs:{defaultValue:t.areaCode,disabled:!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.cityPickerChange.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"txt",class:[""==t.city?"no-checked":""]},[t._v(t._s(""==t.city?"省市区":t.city))])],1)],1),i("v-uni-view",{staticClass:"label-input-item"},[i("v-uni-input",{attrs:{type:"text",placeholder:"详细地址（精确到门牌号）"},model:{value:t.addressInfo.address,callback:function(e){t.$set(t.addressInfo,"address",e)},expression:"addressInfo.address"}})],1),i("v-uni-view",{staticClass:"label-input-item"},[i("v-uni-input",{attrs:{type:"text",placeholder:"公司名称（选填)"},model:{value:t.addressInfo.companyName,callback:function(e){t.$set(t.addressInfo,"companyName",e)},expression:"addressInfo.companyName"}})],1),i("v-uni-view",{staticClass:"label-input-item"},[i("v-uni-text",{staticClass:"clean",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cleanInfo.apply(void 0,arguments)}}},[t._v("清空当前信息")]),i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},[i("v-uni-checkbox",{staticClass:"orange",attrs:{checked:t.addressInfo.isDefault}}),i("v-uni-text",[t._v("设为默认地址")])],1)],1),i("v-uni-view",{staticClass:"label-input-item textarea"},[i("v-uni-view",[i("v-uni-textarea",{directives:[{name:"show",rawName:"v-show",value:!t.isRecognition,expression:"!isRecognition"}],staticClass:"tear",attrs:{maxlength:"-1",placeholder:"粘贴地址信息,例:姓名,手机号,地址","cursor-spacing":"150","show-confirm-bar":!1},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.btnCopyOk.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.textareaInput.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.getFous()}},model:{value:t.txtContent,callback:function(e){t.txtContent=e},expression:"txtContent"}}),t.isCopyShow?i("v-uni-view",{staticClass:"bottom"},[i("v-uni-text",{staticClass:"tips"},[t._v("地址智能识别存在误差,请核实后在提交信息")]),i("v-uni-text",{staticClass:"text-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnCopyOk.apply(void 0,arguments)}}},[t._v("确定")])],1):t._e(),!t.isCopyShow&&t.isTalkBtn?i("v-uni-view",{staticClass:"bottom voice",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openTalk.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:a("897b")}}),t._v("语音识别")],1):t._e()],1)],1),t.isCompany?i("v-uni-view",{staticClass:"label-input-item switch"},[i("v-uni-text",[t._v("共享该地址")]),i("v-uni-switch",{staticClass:"switch-btn",attrs:{checked:t.isWarning,color:"#4285F4"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}}})],1):t._e()],1),i("v-uni-view",{staticClass:"btn"},[i("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnSubmit.apply(void 0,arguments)}}},[t._v("确定")])],1),t.isRecognition?i("v-uni-view",[i("v-uni-view",{staticClass:"v-model",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelTalk.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"talk"},[i("v-uni-view",{staticClass:"title"},[t._v("语音识别")]),i("v-uni-view",{staticClass:"img"}),t.talkEnd?i("v-uni-button",{staticClass:"btn-default-css",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.endStreamRecord.apply(void 0,arguments)}}},[t._v("说完了")]):i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.streamRecord.apply(void 0,arguments)}}},[t._v("点击说话")])],1)],1):t._e()],1)},s=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return i}))},bd00:function(t,e,a){var i=a("8978");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("2efa3094",i,!0,{sourceMap:!1,shadowMode:!1})},d6ed:function(t,e,a){"use strict";var i=a("bd00"),n=a.n(i);n.a},f892:function(t,e,a){"use strict";var i=a("ee27");a("c975"),a("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("1238")),s={data:function(){return{code:"",type:"",city:"",areaCode:"",isCopyShow:!1,txtContent:"",addressInfo:{name:"",companyName:"",phone:"",address:"",isDefault:!1},url:"/AddressBook/Post",isWarning:!1,isTalkBtn:!0,isCompany:!1,isRecognition:!1,talkEnd:!1}},components:{addressPicker:n.default},onBackPress:function(t){console.log(t.from),"backbutton"==t.from&&console.log("2343")},onLoad:function(t){var e=this;this.code=void 0==t.addresscode?"":t.addresscode,""!=this.code&&(this.getAddressInfo(),this.url="/AddressBook/Change",uni.setNavigationBarTitle({title:"编辑地址"})),e.$util.IsPC()&&(e.isTalkBtn=!1),e.$util.networkRequest({url:"/Company/IsRegister",success:function(t){t&&(e.isCompany=!0)}}),void 0!=t.type&&(this.type=t.type)},methods:{btnSubmit:function(){var t=this;if(!t.Valid())return!1;var e={contactsCode:t.code,name:t.addressInfo.name,phone:t.addressInfo.phone,companyName:t.addressInfo.companyName,areaCode:t.areaCode,address:t.addressInfo.address,isDefault:t.addressInfo.isDefault,isShare:t.isWarning};uni.showLoading({title:"更新中...",mask:!0}),t.$util.networkRequest({url:t.url,method:"POST",data:e,success:function(e){t.setAddressEdit(e),uni.showModal({title:"提示",content:"更新成功",showCancel:!1,success:function(e){e.confirm&&t.$util.navigateBack(t)}})}})},getFous:function(){uni.createSelectorQuery().select(".tear").boundingClientRect((function(t){uni.pageScrollTo({duration:0,scrollTop:t.top})})).exec()},setAddressEdit:function(t){if(""==this.type)return!1;var e={name:t.name,contactsCode:t.contactsCode,address:t.areaInfo.province+t.areaInfo.city+t.areaInfo.area+t.address,ad:t.address,areaCode:t.areaInfo.areaCode,phone:t.phone};if("send"==this.type){if(t.contactsCode==this.$store.state.expressDeliveryInfo["repAddress"].contactsCode)return!1;this.$store.state.expressDeliveryInfo["sendAddress"]=e}if("rep"==this.type){if(t.contactsCode==this.$store.state.expressDeliveryInfo["sendAddress"].contactsCode)return!1;this.$store.state.expressDeliveryInfo["repAddress"]=e}},switchChange:function(t){this.isWarning=t.target.value},cleanInfo:function(){this.addressInfo.name="",this.addressInfo.phone="",this.addressInfo.companyName="",this.addressInfo.address="",this.addressInfo.isDefault=!1,this.city="",this.areaCode="",this.txtContent="",this.isCopyShow=!1},textareaInput:function(t){var e=t.detail.value;this.isCopyShow=""!=e},btnCopyOk:function(){uni.pageScrollTo({scrollTop:0,duration:0});var t=this,e=t.$util.stripAddress(t.txtContent);uni.showLoading({title:"智能识别中..."}),t.$util.networkRequest({url:"/AddressBook/GetAddressAutoInfo",data:{addressText:e},success:function(e){if(t.addressInfo.name=e.name,t.addressInfo.phone=e.phone,t.addressInfo.address=e.detail,t.areaCode=e.areaCode,!t.$util.isNotEmpty(e.province)&&!t.$util.isNotEmpty(e.city)&&!t.$util.isNotEmpty(e.area))return t.$util.showToast("自动识别失败,请手动选择省市区"),!1;t.city=e.province+"-"+e.city+"-"+e.area}})},Valid:function(){if(!this.$util.isNotEmpty(this.addressInfo.name))return this.$util.showToast("姓名不能为空"),!1;if(!this.$util.isNotEmpty(this.addressInfo.phone))return this.$util.showToast("手机号不能为空"),!1;if(this.addressInfo.phone.indexOf("*")<0){if(/[A-Za-z]/.test(this.addressInfo.phone))return this.$util.showToast("联系电话格式不正确"),!1;if(/[\u4e00-\u9fa5]/.test(this.addressInfo.phone))return this.$util.showToast("联系电话格式不正确"),!1}return this.$util.isNotEmpty(this.areaCode)?!!this.$util.isNotEmpty(this.addressInfo.address)||(this.$util.showToast("详细地址不能为空"),!1):(this.$util.showToast("请选择省市区"),!1)},checkboxChange:function(){this.addressInfo.isDefault=!this.addressInfo.isDefault},cityPickerChange:function(t){this.city=t.detail.value[0]+"-"+t.detail.value[1]+"-"+t.detail.value[2],this.areaCode=t.detail.code[2]},getAddressInfo:function(){var t=this;uni.showLoading({mask:!0,title:"加载中..."}),t.$util.networkRequest({url:"/AddressBook/Get",data:{contactsCode:t.code},success:function(e){t.addressInfo=e,t.isShare=e.isShare,t.city=e.areaInfo.province+"-"+e.areaInfo.city+"-"+e.areaInfo.area,t.areaCode=e.areaInfo.areaCode}})},openTalk:function(){var t=this;t.isRecognition=!0},cancelTalk:function(){this.isRecognition=!1,this.talkEnd=!1,this.$util._H5_stopRecord(0)},streamRecord:function(){var t=this;t.$util._H5_startRecord((function(){t.talkEnd=!0}))},endStreamRecord:function(t){var e=this;"android"==uni.getSystemInfoSync().platform&&uni.showLoading({mask:!0,title:"正在识别……"}),e.$util._H5_stopRecord(1,(function(t){uni.hideLoading(),e.txtContent=t.translateResult,e.isRecognition=!1,e.isCopyShow=!0,e.talkEnd=!1}))}}};e.default=s}}]);