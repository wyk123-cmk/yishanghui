(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-invoice"],{"104f":function(t,e,i){"use strict";i.r(e);var a=i("2576"),o=i("bc8c");for(var n in o)"default"!==n&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("e838");var s,c=i("f0c5"),l=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"7156b5c3",null,!1,a["a"],s);e["default"]=l.exports},"1bb8":function(t,e,i){t.exports=i.p+"static/img/cjt.e71b6292.svg"},"1ecb":function(t,e,i){var a=i("e2d2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("09944df8",a,!0,{sourceMap:!1,shadowMode:!1})},2576:function(t,e,i){"use strict";var a,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page-bg"},[a("v-uni-navigator",{staticClass:"head-right",attrs:{url:"/pages/me/historicalInvoice"}},[t._v("历史开票")]),0==t.total?a("v-uni-view",{staticClass:"none-data-list"},[a("v-uni-image",{attrs:{src:i("7a82")}}),t._v("暂无内容")],1):a("v-uni-view",[a("v-uni-scroll-view",{staticClass:"scroll-wrapper",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrolltolower.apply(void 0,arguments)}}},t._l(t.invoiceData,(function(e,o){return a("v-uni-view",{key:o,staticClass:"invoice-item-list"},[a("v-uni-checkbox-group",{staticClass:"checkbox-radio",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.checkboxChange(i,e.price,e.mastCode)}}},[a("v-uni-checkbox",{attrs:{value:e.mastCode,checked:e.checked}}),a("v-uni-text",[t._v("运单号："+t._s(e.expressCode))])],1),a("v-uni-view",{staticClass:"transport-o",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nextStep(o)}}},[a("v-uni-view",{staticClass:"express"},[a("v-uni-text",{staticClass:"city"},[t._v(t._s(e.expressFrom.areaInfo.city))]),a("v-uni-text",[t._v(t._s(e.expressFrom.name))])],1),a("v-uni-view",{staticClass:"status"},[a("v-uni-image",{attrs:{mode:"widthFix",src:i("1bb8")}})],1),a("v-uni-view",{staticClass:"express"},[a("v-uni-text",{staticClass:"city"},[t._v(t._s(e.expressTo.areaInfo.city))]),a("v-uni-text",[t._v(t._s(e.expressTo.name))])],1),a("v-uni-view",{staticClass:"price"},[t._v("￥"+t._s(e.price))])],1)],1)})),1),a("v-uni-view",{staticClass:"invoice-footer"},[a("v-uni-checkbox-group",{staticClass:"checkbox-radio",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkAllChange.apply(void 0,arguments)}}},[a("v-uni-checkbox",{attrs:{checked:t.isCheckAll}}),a("v-uni-text",[t._v("全选")])],1),a("v-uni-button",{staticClass:"next-step",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.nextStep()}}},[t._v("下一步")]),a("v-uni-view",{staticClass:"amount"},[t._v("合计："),a("v-uni-text",[t._v(t._s(0==t.totalSum?"--":t.totalSum))])],1)],1)],1)],1)},n=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}))},"609a":function(t,e,i){"use strict";i("99af"),i("4de4"),i("d3b7"),i("acd8"),i("ac1f"),i("25f0"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{page:1,limit:5,total:0,totalSum:0,invoiceData:[],checkData:[],isCheckAll:!1}},onShow:function(){this.page=1,this.invoiceData=[],this.checkData=[],this.total=0,this.totalSum=0,this.isCheckAll=!1,this.getInvoice()},methods:{nextStep:function(t){var e=[],i=0;if(void 0==t){if(0==this.checkData.length)return uni.showToast({title:"请选择需要开的发票订单",icon:"none"}),!1;e=this.checkData,i=this.totalSum}else e=[this.invoiceData[t].mastCode],i=this.invoiceData[t].price;this.$store.state.invoiceInfo={mastCode:e,totalSum:i},uni.navigateTo({url:"/pages/me/invoiceSubmit"})},checkboxChange:function(t,e,i){console.log(t.detail.value),this.invoiceData.filter((function(t){t.mastCode==i&&(t.checked=void 0==t.checked)})),t.detail.value.length>0?(this.checkData.push(i),this.totalSum=this.moneyFormat(parseFloat(e)+parseFloat(this.totalSum))):(this.totalSum=this.moneyFormat(parseFloat(this.totalSum)-parseFloat(e)),this.checkData=this.checkData.filter((function(t){return t!=i}))),this.checkData.length==this.invoiceData.length?this.isCheckAll=!0:this.isCheckAll=!1},checkAllChange:function(t){this.isCheckAll=!this.isCheckAll,this.totalSum=0,this.checkData=[];for(var e=0,i=this.invoiceData.length;e<i;++e){var a=this.invoiceData[e];this.isCheckAll?(this.$set(a,"checked",!0),this.totalSum=this.moneyFormat(parseFloat(a.price)+parseFloat(this.totalSum)),this.checkData.push(a.mastCode)):a.checked=!1}},scrolltolower:function(){Math.ceil(this.total/this.limit)>=this.page&&this.getInvoice()},getInvoice:function(){var t=this;uni.showLoading({title:"加载中..."}),t.$util.networkRequest({url:"/Invoice/GetExpressList",data:{page:t.page,limit:t.limit},success:function(e){var i=e.total;if(0==i||0==e.list.length)return!1;t.page++,t.total=i,t.invoiceData=t.invoiceData.concat(e.list)}})},moneyFormat:function(t){if(!this.$util.isNotEmpty(t))return"0.00";var e=Math.round(100*parseFloat(t))/100,i=e.toString().split(".");return 1==i.length?(e=e.toString()+".00",e):i.length>1?(i[1].length<2&&(e=e.toString()+"0"),e):void 0}}};e.default=a},"7a82":function(t,e,i){t.exports=i.p+"static/img/none.6cc20ceb.svg"},bc8c:function(t,e,i){"use strict";i.r(e);var a=i("609a"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=o.a},e2d2:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".invoice-item-list[data-v-7156b5c3]{background-color:#fff;margin-top:8px}.checkbox-radio[data-v-7156b5c3]{color:#999;border-bottom:1px solid #eee;padding:10px;line-height:14px;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.invoice-item-list .transport-o[data-v-7156b5c3]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.invoice-item-list .transport-o .price[data-v-7156b5c3]{color:#4285f4;font-size:22px;border-left:1px dashed #eee;padding:0 15px}.scroll-wrapper[data-v-7156b5c3]{position:absolute;top:40px;left:0;right:0;bottom:60px;padding-bottom:10px}\n.scroll-wrapper[data-v-7156b5c3]{top:0}\n.invoice-footer[data-v-7156b5c3]{position:fixed;bottom:0;left:0;right:0;background-color:#fff;height:60px;line-height:60px}.invoice-footer .checkbox-radio[data-v-7156b5c3]{color:#333;float:left;border:0;margin-top:8px;font-size:14px}.amount[data-v-7156b5c3]{float:right;padding-right:30px}.amount uni-text[data-v-7156b5c3]{color:#ff0004}.next-step[data-v-7156b5c3]{float:right;background-color:#4285f4;color:#fff;border-radius:0;padding:0 20px;line-height:60px}",""]),t.exports=e},e838:function(t,e,i){"use strict";var a=i("1ecb"),o=i.n(a);o.a}}]);