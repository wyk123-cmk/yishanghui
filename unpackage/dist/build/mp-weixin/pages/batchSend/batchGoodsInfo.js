(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/batchSend/batchGoodsInfo"],{"089e":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o={data:function(){return{key:0,upperAmount:0,code:"",goodName:"",goodsNameList:[],stdmodeArray:["仪器整机","文件","仪器设备","试剂耗材","化玻设备","实验家具","其他"],materialArray:["纸","纤","木箱","木架","托膜","托木"],goodType:"",materialTxt:"",txtheight:"",txtWidth:"",txtLong:"",txtnum:1,txtweight:"",volume:"",amount:"",bjmoney:0,placeholder:"1-500000整数",isWarning:!1,isWP:!1,isWeight:!1,isMoney:!1}},onLoad:function(t){this.showImage=getApp().globalData.isDiscountPopup,this.goodType=this.stdmodeArray[this.stdmodeArray.length-1],this.upperAmount=t.upperAmount,this.code=t.code,this.key=t.key;var i=this.$store.state.batchOrderInfo["list"][this.key].goodsInfo;"{}"!=JSON.stringify(i)&&(this.isWP=i.isWP,this.isWeight=i.isWeight,this.isMoney=i.isMoney,void 0!=i.info&&(this.goodName=i.info.goodName,this.goodType=i.info.goodType,this.materialTxt=i.info.materialTxt),void 0!=i.volume&&(this.txtnum=i.volume.txtnum,this.txtweight=i.volume.txtweight,this.txtLong=i.volume.txtLong,this.txtWidth=i.volume.txtWidth,this.txtheight=i.volume.txtheight,this.volume=i.volume.volume),void 0!=i.money&&(this.amount=i.money.amount,this.bjmoney=i.money.bjmoney))},computed:{txtCubic1:function(){try{var t=Number(this.txtLong),i=Number(""==this.txtheight?0:this.txtheight),e=Number(""==this.txtWidth?0:this.txtWidth),o=t*i*e/1e6;return o}catch(s){}}},watch:{txtCubic1:function(t){this.volume=t>0?t:.01},txtweight:function(t){""!==t&&this.txtweight<=0&&(this.txtweight=1)}},methods:{btnSumit:function(){var t=this;if(!this.$util.isNotEmpty(this.goodName))return this.$util.showToast("物品名称不能为空"),!1;if(!this.$util.isNotEmpty(this.txtweight))return this.$util.showToast("预估重量不能为空"),!1;if(Number(this.txtweight)>20&&""==this.amount)return this.$util.showToast("预估重量大于20公斤,保费为必填"),!1;var i={isWP:this.isWP,isWeight:this.isWeight,isMoney:this.isMoney,info:{goodName:this.goodName,goodType:this.goodType,materialTxt:this.materialTxt},volume:{txtnum:this.txtnum,txtweight:this.txtweight,txtLong:this.txtLong,txtWidth:this.txtWidth,txtheight:this.txtheight,volume:this.volume},money:{amount:this.amount,bjmoney:this.bjmoney}},e=this.$store.state.batchOrderInfo["list"];this.$store.state.batchOrderInfo["list"].length>0&&e.forEach((function(e,o){e.goodsInfo.isWP=i.isWP,e.goodsInfo.isWeight=i.isWeight,e.goodsInfo.isMoney=i.isMoney,t.isWP&&(e.goodsInfo["info"]=i.info),t.isWeight&&(e.goodsInfo["volume"]=i.volume),t.isMoney&&(e.goodsInfo["money"]=i.money),t.key==o&&(e.goodsInfo=i)})),t.$store.state.batchOrderInfo["list"]=e,t.$util.navigateBack(t)},goodNameInput:function(t){var i=t.detail.value,e=this;if(""==i)return e.goodsNameList=[],!1;e.$util.networkRequest({url:"/GoodsName/GetGoodsNameList",data:{goodsName:i},success:function(t){e.goodsNameList=t}})},btnGetGoodName:function(t){this.goodName=t,this.goodsNameList=[]},stdmodeChange:function(t){this.goodType=this.stdmodeArray[t.detail.value]},materialChange:function(t){this.materialTxt=this.materialArray[t.detail.value]},computeNum:function(t){if(0==t){if(this.txtnum<=1)return!1;this.txtnum--}else this.txtnum++},computeWeight:function(t){if(0==t){if(this.txtweight<=1)return!1;this.txtweight--}else this.txtweight++},amountInput:function(t){var i=t.detail.value;if(""!=i)if(parseFloat(i)>this.upperAmount);else{if(""==this.txtweight)return this.$util.showToast("请输入预估重量"),this.amount="0",!1;this.setPrice(i)}else this.bjmoney=0},setPrice:function(t){var i=this,e="big";Number(this.txtweight)<=20&&(e="small"),i.$util.networkRequest({url:"/Price/InsurancePrice",method:"POST",data:{Amount:t,CompanyCode:i.code,ExpressType:e},success:function(t){i.bjmoney=t}})},switchWP:function(t){this.isWP=t.target.value},switchWeight:function(t){this.isWeight=t.target.value},switchMoney:function(t){this.isMoney=t.target.value}}};i.default=o},"19ad":function(t,i,e){"use strict";var o=e("c1ad"),s=e.n(o);s.a},"23f1":function(t,i,e){"use strict";e.r(i);var o=e("c307"),s=e("7b54");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("19ad");var h,u=e("f0c5"),a=Object(u["a"])(s["default"],o["b"],o["c"],!1,null,"9d1e08f4",null,!1,o["a"],h);i["default"]=a.exports},"7b54":function(t,i,e){"use strict";e.r(i);var o=e("089e"),s=e.n(o);for(var n in o)"default"!==n&&function(t){e.d(i,t,(function(){return o[t]}))}(n);i["default"]=s.a},c1ad:function(t,i,e){},c307:function(t,i,e){"use strict";var o,s=function(){var t=this,i=t.$createElement;t._self._c},n=[];e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return o}))},f933:function(t,i,e){"use strict";(function(t){e("b397");o(e("66fd"));var i=o(e("23f1"));function o(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("543d")["createPage"])}},[["f933","common/runtime","common/vendor"]]]);