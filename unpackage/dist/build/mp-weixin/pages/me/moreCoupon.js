(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/moreCoupon"],{"1d23":function(t,o,e){"use strict";e.r(o);var n=e("2d3b"),i=e("5a15");for(var u in i)"default"!==u&&function(t){e.d(o,t,(function(){return i[t]}))}(u);e("9f00");var s,a=e("f0c5"),r=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,"2b25f001",null,!1,n["a"],s);o["default"]=r.exports},"2d3b":function(t,o,e){"use strict";var n,i=function(){var t=this,o=t.$createElement,e=(t._self._c,t.__map(t.couponData,(function(o,e){var n=o.isget.indexOf("_"),i=o.isget.indexOf("_");return{$orig:t.__get_orig(o),g0:n,g1:i}})));t._isMounted||(t.e0=function(o){t.showSend=!1}),t.$mp.data=Object.assign({},{$root:{l0:e}})},u=[];e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return u})),e.d(o,"a",(function(){return n}))},"5a15":function(t,o,e){"use strict";e.r(o);var n=e("861d"),i=e.n(n);for(var u in n)"default"!==u&&function(t){e.d(o,t,(function(){return n[t]}))}(u);o["default"]=i.a},"861d":function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{userType:"indi",showSend:!1,couponData:[],coupon:"我的",isShowQY:!1,isShareWX:!0}},onLoad:function(){var t=getApp();t.isToken(),this.showImage=t.globalData.isDiscountPopup},onShow:function(){var t=this;if(!this.isShareWX)return this.isShareWX=!0,!1;t.getCoupon(),t.IsRegister()},onShareAppMessage:function(t){if("button"==t.from){this.isShareWX=!1;var o=this,e=o.couponData[t.target.id],n=e.id,i=e.amount;return{title:"我在领"+i+"元物流大额券点击助力一下呗",path:"/pages/me/shareImage?id="+n+"&type="+o.userType,desc:"助力成功您将获得一份尊享礼包",imageUrl:"../../static/images/coupon"+i+".png"}}},methods:{postCoupon:function(t,o){if("1"==o)return!1;var e=this;e.$util.networkRequest({url:"/Coupon/PostVoucherCoupon",method:"POST",data:{userType:e.userType,couponId:t},success:function(o){""!==o&&(e.$util.showToast("领取成功"),e.couponData.forEach((function(o){o.id==t&&(o.isget="_")})),e.getCoupon())}})},MyCoupn:function(o){if(console.log(o),"comp"==o&&0==this.isShowQY)return this.$util.showToast("尚未加入企业"),!1;t.navigateTo({url:"/pages/me/coupon?type="+o})},IsRegister:function(){var t=this;t.$util.networkRequest({url:"/Company/IsRegister",method:"GET",data:{},success:function(o){t.isShowQY=!!o}})},sharePost:function(t,o){this.showSend=!0,this.$util.wxshare({title:"我在领"+o+"元物流大额券点击助力一下呗",desc:"助力成功您将获得一份尊享礼包",link:"http://"+window.location.host+"/pages/me/shareImage?id="+t+"&type="+this.userType,imgUrl:"http://"+window.location.host+"/static/images/coupon"+o+".png"})},btnNavTab:function(t){this.userType=t,this.getCoupon(),this.coupon="comp"==t?"企业":"我的"},getCoupon:function(){var o=this,e=o.userType;t.showLoading({title:"加载中..."}),o.$util.networkRequest({url:"/Coupon/GetList",data:{userType:e},success:function(t){if(null==t)return!1;o.couponData=t.list},complete:function(t){t.data||(o.couponData=[])}})}}};o.default=e}).call(this,e("543d")["default"])},"9f00":function(t,o,e){"use strict";var n=e("e595"),i=e.n(n);i.a},c871:function(t,o,e){"use strict";(function(t){e("b397");n(e("66fd"));var o=n(e("1d23"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("543d")["createPage"])},e595:function(t,o,e){}},[["c871","common/runtime","common/vendor"]]]);