(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0b9d":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{isShowZkq:!1,isCoupon:!1,dataInfo:[],showImage:!1,types:"",newTotal:0,pid:"",couponlist:[]}},onLoad:function(t){e.removeStorageSync("errormsg"),this.types=t.types,"tz"==this.types&&(console.log("从躺赚过来"),this.getCoupon()),void 0!=this.pid&&(this.pid=t.pid,this.browseHistory())},onShow:function(){var t=getApp();t.isToken("首页"),this.showImage=t.globalData.isDiscountPopup,this.isNewCoupon(),this.getInfo(),e.removeStorageSync("insuredPrice"),this.$store.state.expressDeliveryInfo={type:"",companyCode:"",sendAddress:{},expectTime:"",repAddress:{},goodInfo:{},insuredPrice:{},service:{},takeBill:{},carType:{}},this.$store.state.batchOrderInfo={list:[],companyCode:"",sendAddress:{}}},methods:{isNewCoupon:function(){var e=this;e.$util.networkRequest({url:"/Coupon/IsNewCoupon",method:"POST",success:function(t){e.isCoupon=t}})},getCoupon:function(){var e=this;e.$util.networkRequest({url:"/Coupon/GetList",data:{userType:"indi"},success:function(t){if(null==t)return e.$util.showToast("暂无可领取的优惠券"),!1;e.couponlist=t.list,console.log(t);for(var o=t.list,n=[],s=0;s<o.length;s++){var i=o[s];"0"==i.isget&&e.postCoupon(i.id,i.isget,s),(""==i.isget||null==i.isget||i.isget.indexOf("_")>-1)&&n.push(i)}n.length==o.length&&e.$util.showToast("您已领取过优惠券")}})},postCoupon:function(e,t,o){if("1"==t)return!1;var n=this;n.$util.networkRequest({url:"/Coupon/PostVoucherCoupon",method:"POST",data:{userType:"indi",couponId:e},success:function(e){""!==e&&o==n.couponlist.length-1&&(n.isShowZkq=!0,setTimeout((function(){n.isShowZkq=!1}),3e3))}})},getInfo:function(){var e=this;e.$util.networkRequest({url:"/SysInfo/GetNoticeAndSlideShow",success:function(t){t.slides.filter((function(t){null!=t.image&&""!=t.image&&(t.image=t.image.replace(/\s*/g,""),-1==t.image.indexOf("http")&&(t.image=e.apiHost+t.image))})),e.dataInfo=t}}),e.$util.networkRequest({url:"/SysInfo/GetNoReadMessageCount",success:function(t){e.newTotal=t}})},ImgRous:function(t){var o=this.apiHost+"/pages";if(-1!=t.indexOf(o)){var n=t.replace(this.apiHost,"");return e.navigateTo({url:n}),!1}e.navigateTo({url:"/pages/web-view/index?url="+t})},goPage:function(t){if(""==e.getStorageSync("token")||void 0==e.getStorageSync("token")){var o="";""!=this.pid&&(o="?userSource="+this.pid),e.navigateTo({url:"/pages/logs/logs"+o})}else{if(2==t){if(1==this.$util.IsPC())return window.location.href="/page/pc-md",!1;e.showModal({title:"提示",content:"打印面单功能，手机端暂时无法使用，请登录电脑后访问http://express.1718china.cn使用",showCancel:!1})}e.navigateTo({url:"/pages/"+t})}},browseHistory:function(e){var t=this;wx.getSystemInfo({success:function(e){var o=getCurrentPages(),n={pid:t.pid,path:o[o.length-1].route,brand:e.brand,model:e.model,version:e.version,system:e.system,platform:e.platform};t.$util.networkRequest({url:"/SysInfo/BrowseHistory",method:"POST",data:n,success:function(e){}})}})}}};t.default=o}).call(this,o("543d")["default"])},3990:function(e,t,o){},"68b4":function(e,t,o){"use strict";var n,s=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.isShowZkq=!1})},i=[];o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}))},"79b5":function(e,t,o){"use strict";(function(e){o("b397");n(o("66fd"));var t=n(o("b416"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},"7d24":function(e,t,o){"use strict";o.r(t);var n=o("0b9d"),s=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=s.a},b416:function(e,t,o){"use strict";o.r(t);var n=o("68b4"),s=o("7d24");for(var i in s)"default"!==i&&function(e){o.d(t,e,(function(){return s[e]}))}(i);o("e025");var u,r=o("f0c5"),a=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"cc07e27e",null,!1,n["a"],u);t["default"]=a.exports},e025:function(e,t,o){"use strict";var n=o("3990"),s=o.n(n);s.a}},[["79b5","common/runtime","common/vendor"]]]);