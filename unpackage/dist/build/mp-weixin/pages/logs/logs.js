(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/logs/logs"],{"144e":function(e,t,o){"use strict";var n,i=function(){var e=this,t=e.$createElement;e._self._c},u=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return u})),o.d(t,"a",(function(){return n}))},4761:function(e,t,o){"use strict";var n=o("f761"),i=o.n(n);i.a},5810:function(e,t,o){"use strict";o.r(t);var n=o("632b"),i=o.n(n);for(var u in n)"default"!==u&&function(e){o.d(t,e,(function(){return n[e]}))}(u);t["default"]=i.a},"632b":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{isShow:!1,openId:"",phone:"",code:"",codeTime:60,isGetCode:!1,jumpUrl:"",type:"",fromCode:"",mptype:"",userSource:""}},onLoad:function(e){void 0!=e.mptype&&(this.mptype=e.mptype),void 0!=e.openid&&(this.openId=e.openid),void 0!=e.url&&(this.jumpUrl=e.url),void 0!=e.type&&(this.type=e.type),void 0!=e.fromCode&&(this.fromCode=e.fromCode),void 0!=e.userSource&&(this.userSource=e.userSource),"false"==e.state&&(this.isShow=!0)},onShow:function(){this.code=""},onUnload:function(){this.$util.isGoLogin=!0},methods:{sendCode:function(){var t=this;if(!t.valid(!1))return!1;e.showLoading({mask:!0,title:"加载中..."}),t.$util.networkRequest({url:"/Account/SendCode",method:"POST",data:{phone:t.phone},success:function(e){if(e){t.isGetCode=!0;var o=setInterval((function(){t.codeTime--,t.codeTime<=0&&(t.isGetCode=!1,t.codeTime=60,clearInterval(o))}),1e3)}}})},btnLogin:function(){if(!this.valid(!0))return!1;var t=this;e.showLoading({mask:!0,title:"登录中..."});var o={phone:t.phone,code:t.code,fromCode:t.fromCode,userSource:t.userSource};o["appOpenId"]=t.openId,t.$util.networkRequest({url:"/Account/Login",method:"POST",data:o,success:function(o){if(e.setStorage({key:"token",data:o}),"tz"==t.type||"tz"==t.mptype)return e.reLaunch({url:"/pages/index/index?types="+t.mptype}),!1;t.getIsFinish(o)}})},getIsFinish:function(t){var o=this;o.$util.networkRequest({url:"/Account/GetIsFinish",header:{appId:o.appId,token:t},data:{token:t},success:function(t){t?""!=o.jumpUrl?1==o.type?window.location.href=o.jumpUrl:e.redirectTo({url:o.jumpUrl}):o.$util.navigateBack(o):e.navigateTo({url:"/pages/logs/peopleInfo?type=0"})}})},valid:function(e){return this.$util.isNotEmpty(this.phone)?this.$util.isPhoneNumber(this.phone)?!(e&&!this.$util.isNotEmpty(this.code))||(this.$util.showToast("请输入短信验证码"),!1):(this.$util.showToast("手机格式有误，请输入有效的手机号"),!1):(this.$util.showToast("请输入手机号"),!1)},bindGetUserInfo:function(t){var o=this;t.detail.userInfo?(e.showLoading({title:"正在授权...",mask:!0}),e.setStorage({key:"wxauthorize",data:"true"}),o.$util._mp_wx_login(null,o.mptype,(function(t){console.log("res"+t),o.isShow=!1,1==t.status&&e.showModal({title:"提示",content:"授权登录成功!",showCancel:!1,success:function(t){if("tz"==o.mptype)return e.reLaunch({url:"/pages/index/index?types="+o.mptype}),!1;""!=o.jumpUrl?e.redirectTo({url:o.jumpUrl}):e.navigateBack({delta:1})}}),2==t.status&&(o.openId=t.openId)}))):e.showModal({title:"提示",content:"拒绝授权后,功能将不能使用!",showCancel:!1})}}};t.default=o}).call(this,o("543d")["default"])},a644:function(e,t,o){"use strict";(function(e){o("b397");n(o("66fd"));var t=n(o("f90e"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},f761:function(e,t,o){},f90e:function(e,t,o){"use strict";o.r(t);var n=o("144e"),i=o("5810");for(var u in i)"default"!==u&&function(e){o.d(t,e,(function(){return i[e]}))}(u);o("4761");var s,r=o("f0c5"),a=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"200a7e84",null,!1,n["a"],s);t["default"]=a.exports}},[["a644","common/runtime","common/vendor"]]]);