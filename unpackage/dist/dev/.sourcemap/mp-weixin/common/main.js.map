{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Ysd.Web.Small.Program/App.vue?73c6","webpack:///D:/Ysd.Web.Small.Program/App.vue?a578","uni-app:///App.vue","webpack:///D:/Ysd.Web.Small.Program/App.vue?42e7","webpack:///D:/Ysd.Web.Small.Program/App.vue?4a2b"],"names":["Vue","config","productionTip","prototype","$util","util","wxappid","apiHost","apiUrl","appId","agreeContent","component","pageImges","App","mpType","app","store","$mount"],"mappings":";;;;;;;;;iDAAA,wCAAmB;AACnB;AACA;AACA;AACA,gE;AACqE;;;;;AAKrEA,aAAIC,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAF,aAAIG,SAAJ,CAAcC,KAAd,GAAsBC,aAAtB;AACAL,aAAIG,SAAJ,CAAcG,OAAd,GAAwBA,eAAxB;AACAN,aAAIG,SAAJ,CAAcI,OAAd,GAAwBA,eAAxB;AACAP,aAAIG,SAAJ,CAAcK,MAAd,GAAuBA,cAAvB;AACAR,aAAIG,SAAJ,CAAcM,KAAd,GAAsBA,aAAtB;AACAT,aAAIG,SAAJ,CAAcO,YAAd,GAA6BA,oBAA7B;AACAV,aAAIW,SAAJ,CAAc,YAAd,EAA2BC,SAA3B;;AAEAC,aAAIC,MAAJ,GAAa,KAAb;;AAEA,IAAMC,GAAG,GAAG,IAAIf,YAAJ;AACXgB,OAAK,EAALA,cADW;AAELH,YAFK,EAAZ;;AAIA,UAAAE,GAAG,EAACE,MAAJ,G;;;;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAA6lB,CAAgB,unBAAG,EAAC,C;;;;;;;;;;;;ACCjnB;AACA;AACA,0BADA,EACA;AACA,sBAFA,CAEA;AAFA,GADA;AAKA;;;;;;;;;AASA;AACA;AACA;AACA;;AAEA,GAnBA;AAoBA;AACA;;;AAGA,GAxBA;AAyBA;AACA;AACA,GA3BA;AA4BA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,KA/BA;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA,KAjDA;AAkDA;AACA;AACA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;;AAgBA,KAtEA;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA,uBADA;AAEA,qCAFA;AAGA,iBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA,WARA;;AAUA,OAXA;AAYA;AACA;AACA;AACA,OAHA;AAIA,KA9FA;AA+FA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvGA,EA5BA,E;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAA+2B,CAAgB,g3BAAG,EAAC,C;;;;;;;;;;ACAn4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';import Vue from 'vue'\nimport App from './App'\nimport util from './common/js/util'\nimport store from './common/js/store'\nimport {apiHost, apiUrl, appId, wxappid, agreeContent} from './common/js/config'\nimport pageImges from './components/page-discount/page-discount.vue' //首次活动提醒\n\n\n\n\nVue.config.productionTip = false;\nVue.prototype.$util = util;\nVue.prototype.wxappid = wxappid;\nVue.prototype.apiHost = apiHost;\nVue.prototype.apiUrl = apiUrl;\nVue.prototype.appId = appId;\nVue.prototype.agreeContent = agreeContent;\nVue.component('page-imges',pageImges);\n\nApp.mpType = 'app'\n\nconst app = new Vue({\n\tstore,\n    ...App\n})\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\n\texport default {\n\t\tglobalData: {\n\t\t\tdiscountPopUpImage: {}, //活动数据\n\t\t\tisDiscountPopup: 0, //是否显示活动弹框 0-大图显示;1-缩略图显示;2--都不显示\n\t\t},\n\t\tonLaunch: function() {\n\t\t\t// #ifdef H5\n\t\t\t\tlet u = navigator.userAgent;\n\t\t\t\tlet isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\n\t\t\t\tif(isiOS){\n\t\t\t\t\tthis.$util.config();\n\t\t\t\t}\n\t\t\t// #endif\n\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tthis.versionUpdate();\n\t\t\t\tif(uni.getStorageSync('wxauthorize') != \"\" && uni.getStorageSync('wxauthorize') != undefined){\n\t\t\t\t\tthis.authorize_mp_wx();\n\t\t\t\t}\n\t\t\t// #endif\n\t\t},\n\t\tonShow: function() {\n\t\t\tconsole.log('App Show')\n\t\t\t\n\t\t\n\t\t},\n\t\tonHide: function() {\n\t\t\tconsole.log('App Hide')\n\t\t},\n\t\tmethods: {\n\t\t\tisToken: function(type){\n\t\t\t\tconst that = this;\n\t\t\t\t// #ifdef H5\n\t\t\t\tif(uni.getStorageSync(\"h5initlog\") == \"\" || uni.getStorageSync(\"h5initlog\") == undefined){\n\t\t\t\t\tif(that.isWechat()){\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.getStorage({\n\t\t\t\t\t\t\tkey: 'token',\n\t\t\t\t\t\t\tfail: function(){\n\t\t\t\t\t\t\t\tthat.authorize_H5();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(that.$util.IsPC()){\n\t\t\t\t\t\t\tlet host = (this.apiHost).replace(\"https://\",\"http://\");\n\t\t\t\t\t\t\twindow.location.href = host + \"/page/pc/ysdpc-template/\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t//首页直接进入,不跳转登录页\n\t\t\t\t\t\t\tif(type == \"首页\") return false;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.getStorage({\n\t\t\t\t\t\t\t\tkey: 'token',\n\t\t\t\t\t\t\t\tfail: function(){\n\t\t\t\t\t\t\t\t\twindow.location.href = \"/pages/logs/logs?type=\"+type;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t//H5授权登录\n\t\t\tauthorize_H5: function(){\n\t\t\t\tlet that = this;\n\t\t\t\tvar pages = getCurrentPages();\n\t\t\t\tvar wx_h5_code = (pages[pages.length - 1]).$route.query.code;\n\t\t\t\twx_h5_code = wx_h5_code == undefined?'' : wx_h5_code;\n\t\t\t\tvar $route = window.location.href;\n\t\t\t\tvar validCode = uni.getStorageSync(\"validCode\");//防止重复刷新\n\t\t\t\tthat.$util.isGoLogin = false;\n\t\t\t\t//如果拿到code，调用授权接口，没有拿到就跳转微信授权链接获取\n\t\t\t\tif(validCode != \"1\" || !that.$util.isNotEmpty(wx_h5_code) ){\n\t\t\t\t\tuni.setStorage({key: 'validCode', data: \"1\"});\n\t\t\t\t\tlet _url = `https://open.weixin.qq.com/connect/oauth2/authorize?appid=${that.wxappid}&redirect_uri=${encodeURIComponent(window.location.href)}&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect`\n\t\t\t\t\twindow.location.href = _url;\n\t\t\t\t}else{\n\t\t\t\t\tthat.$util._h5_login('logs', wx_h5_code);\n\t\t\t\t}\n\t\t\t},\n\t\t\t//小程序授权登录\n\t\t\tauthorize_mp_wx: function(){\n\t\t\t\tlet that = this;\n\t\t\t\t//判断用户是否授权\n\t\t\t\twx.getSetting({\n\t\t\t\t\tsuccess (res) {\n\t\t\t\t\t\tif(res.authSetting[\"scope.userInfo\"] == true){\n\t\t\t\t\t\t\t//已授权\n\t\t\t\t\t\t\tconsole.log('已授权');\n\t\t\t\t\t\t\tthat.$util._mp_wx_login(\"logs\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(res.authSetting[\"scope.userInfo\"] == false||res.authSetting[\"scope.userInfo\"] == undefined){\n\t\t\t\t\t\t\t// 未授权\n\t\t\t\t\t\t\tconsole.log('未授权');\n\t\t\t\t\t\t\tconsole.log(that);\n\t\t\t\t\t\t\tthat.$util.isGoLogin = false;\n\t\t\t\t\t\t\tuni.navigateTo({url: \"/pages/logs/logs?state=false\"});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//小程序版本更新\n\t\t\tversionUpdate: function(){\n\t\t\t\tconst updateManager = uni.getUpdateManager();\n\t\t\t\tupdateManager.onCheckForUpdate(function (res) {\n\t\t\t\t  // 请求完新版本信息的回调\n\t\t\t\t  console.log(\"请求完新版本信息的回调:\",res.hasUpdate);\n\t\t\t\t});\n\t\t\t\tupdateManager.onUpdateReady(function (res) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '更新提示',\n\t\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n\t\t\t\t\t\t\t\tupdateManager.applyUpdate();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tupdateManager.onUpdateFailed(function (res) {\n\t\t\t\t  // 新的版本下载失败\n\t\t\t\t  console.log(\"新的版本下载失败\");\n\t\t\t\t});\n\t\t\t},\n\t\t\t//判断是否是微信登录\n\t\t\tisWechat: function() {\n\t\t\t\tvar ua = navigator.userAgent.toLowerCase();\n\t\t\t\tif (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t/*每个页面公共css */\n\t@import './common/css/iconfont.css';\n\t@import './common/css/style.css';\n</style>\n","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1605259296044\n      var cssReload = require(\"F:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}