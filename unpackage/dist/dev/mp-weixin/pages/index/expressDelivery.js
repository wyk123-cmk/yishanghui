(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/expressDelivery"],{

/***/ 31:
/*!***********************************************************************************!*\
  !*** D:/Ysd.Web.Small.Program/main.js?{"page":"pages%2Findex%2FexpressDelivery"} ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _expressDelivery = _interopRequireDefault(__webpack_require__(/*! ./pages/index/expressDelivery.vue */ 32));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_expressDelivery.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 32:
/*!****************************************************************!*\
  !*** D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./expressDelivery.vue?vue&type=template&id=77a4dbc4&scoped=true& */ 33);
/* harmony import */ var _expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expressDelivery.vue?vue&type=script&lang=js& */ 35);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./expressDelivery.vue?vue&type=style&index=0&id=77a4dbc4&scoped=true&lang=css& */ 37);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 10);

var renderjs





/* normalize component */

var component = Object(_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "77a4dbc4",
  null,
  false,
  _expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/index/expressDelivery.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 33:
/*!***********************************************************************************************************!*\
  !*** D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue?vue&type=template&id=77a4dbc4&scoped=true& ***!
  \***********************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expressDelivery.vue?vue&type=template&id=77a4dbc4&scoped=true& */ 34);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_template_id_77a4dbc4_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 34:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue?vue&type=template&id=77a4dbc4&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  if (!_vm._isMounted) {
    _vm.e0 = function($event) {
      _vm.checkedAgree = !_vm.checkedAgree
    }

    _vm.e1 = function($event) {
      _vm.isAgree = true
    }

    _vm.e2 = function($event) {
      _vm.isClause = true
    }

    _vm.e3 = function($event) {
      _vm.isPriceAgree = true
    }

    _vm.e4 = function($event) {
      _vm.isShowYhq = false
    }

    _vm.e5 = function($event) {
      _vm.isAgree = false
    }

    _vm.e6 = function($event) {
      _vm.isClause = false
    }

    _vm.e7 = function($event) {
      _vm.isPriceAgree = false
    }

    _vm.e8 = function($event) {
      _vm.isCompanyPassword = false
    }

    _vm.e9 = function($event) {
      _vm.isCompanyPassword = false
    }

    _vm.e10 = function($event) {
      _vm.isPrompt = !_vm.isPrompt
    }

    _vm.e11 = function($event) {
      _vm.isPopupTime = false
    }

    _vm.e12 = function($event) {
      _vm.isCouponList = false
    }

    _vm.e13 = function($event) {
      _vm.isCouponExplain = true
    }

    _vm.e14 = function($event) {
      _vm.isCouponExplain = false
    }
  }
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 35:
/*!*****************************************************************************************!*\
  !*** D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expressDelivery.vue?vue&type=script&lang=js& */ 36);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_F_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 36:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var sendTimePicker = function sendTimePicker() {__webpack_require__.e(/*! require.ensure | components/sendTime-picker/sendTime-picker */ "components/sendTime-picker/sendTime-picker").then((function () {return resolve(__webpack_require__(/*! ../../components/sendTime-picker/sendTime-picker.vue */ 694));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default =














































































































































































































































{
  data: function data() {
    return {
      type: "small",
      list: [{
        count: 9,
        name: '顺丰折扣券',
        check: true },
      {
        count: 8,
        name: '德邦折扣券',
        check: false }],

      sendInfo: {
        name: "寄件人信息",
        contactsCode: "",
        address: "点击填写寄件地址",
        ad: "",
        areaCode: "" },

      repInfo: {},
      shoupj: false,
      phone: "",
      expressTypeData: ["个人"],
      expressTypeIndex: 0,
      insuredPrice: null,
      expressCompany: {
        list: [],
        range: [],
        index: 0,
        code: "",
        path: "",
        agreementUrl: "",
        companyName: "" },

      popupShow: false,
      startTime: 8,
      endTime: 19,
      setPickerIndex: [0],
      timeTabIndex: 0,
      sendTime: '一小时内',
      isAgree: false,
      isClause: false,
      agreeHtml: "",
      clauseHtml: "",
      couponCountUser: 0,
      couponCountCompany: 0,
      checkedAgree: false,
      isShowxs: false,
      serviceNames: "",
      serviceList: [],
      isBillExpress: false,
      goodInfoData: {},
      goodName: "",
      estimatePriceList: [],
      selectProduct: 0,
      productType: "",
      isSpecialLine: false,
      sumMoney: "",
      isShowYhq: false,

      countYHQ: 0,
      isLoading: false,
      expressModeStorage: 0,
      companyCodeStorage: "",
      isCompanyPassword: false,
      password: "",
      paytype: "",
      showImage: false,
      istc: "",
      name: "",
      isUseBE: false,
      isPopupTime: false,
      isClickTime: true,
      isPrompt: false,
      isMaster: false,
      isCompanySpecial: false,
      specialLineData: [],
      priceAgreementUrl: "",
      priceAgreementContent: "",
      isPriceAgree: false,
      NetWeightScale: "",
      isCouponList: false,
      isCouponExplain: false,
      couponIndex: 0,
      couponInput: "",
      useCount: 0,
      noUseCount: 0,
      CouponList: [],
      AllCouponList: [],
      isShowZhq: false,

      SelectedCoupon: "",
      couponCode: "" };

  },
  components: {
    sendTimePicker: sendTimePicker },

  onLoad: function onLoad(options) {
    this.type = options.type;
    this.name = options.name == undefined ? '' : options.name;
    this.phone = options.phone == undefined ? '' : options.phone;
    this.istc = options.companyCode == undefined ? '' : options.companyCode;
    var title = "寄快递";
    if (options.type) {
      if (options.type.indexOf("small") != -1) {
        title = "寄快递";
        this.type = "small";
      }
      if (options.type.indexOf("big") != -1) {
        title = "寄大件";
        this.type = "big";
      }
    }
    //若local storage 存在寄件形式&&物流公司
    if (this.istc == "") {
      var expressStorage = uni.getStorageSync('expressStorage');
      if (expressStorage != "" && expressStorage != undefined) {
        this.expressModeStorage = JSON.parse(expressStorage).expressMode;
        this.companyCodeStorage = JSON.parse(expressStorage).companyCode;
        this.$store.state.expressDeliveryInfo.type = this.expressModeStorage;
        this.$store.state.expressDeliveryInfo.companyCode = this.companyCodeStorage;
      }
    }
    if (uni.getStorageSync('isPromptTime') == "false") {
      this.isClickTime = false;
    }
    uni.setNavigationBarTitle({
      title: title });

    this.getExpressCompany();
    this.isRegister();
    this.getCoupon();
    this.getYshESAgree();

  },
  watch: {
    couponCode: function couponCode(val) {
      console.log(val);
      // this.calculateProductType('tz')
    },
    productType: function productType(val) {
      console.log("cp" + val);

    } },

  onShow: function onShow() {
    var app = getApp();
    app.isToken();
    this.showImage = app.globalData.isDiscountPopup;
    this.setvalue();
    this.GetIsMaster();
    uni.removeStorageSync('companyPrice');

  },
  methods: {
    // GET /api/Coupon/GetCouponDiscountList获取折扣券  只针对个人  德邦8折 顺丰9折  物流公司切换时重新获取折扣券
    GetCouponDiscountList: function GetCouponDiscountList(type) {
      var that = this;
      if (that.type == "big") {
        return false;
      }
      var parm = {
        companyCode: that.expressCompany.code,
        expressModel: that.expressTypeIndex };


      that.$util.networkRequest({
        url: "/Coupon/GetCouponDiscountList",
        data: parm,
        success: function success(res) {
          console.log(res);


          if (res !== null && res.couponCount !== 0) {
            that.isShowZhq = true;
            that.useCount = res.useCount;
            that.noUseCount = res.noUseCount;
            var list = res.list;
            list.forEach(function (item) {
              item.check = false;
            });
            that.AllCouponList = list;
            that.CouponList = that.AllCouponList.filter(function (item) {
              return item.isUse == true;
            });
            if (type == "tz") {
              if (that.CouponList.length !== 0) {
                that.couponCode = that.CouponList[0].couponCode;
                that.couponInput = that.CouponList[0].couponTitle;
                that.CouponList[0].check = true;
              } else {
                that.couponCode = "";
                that.couponInput = "";
              }
            }


          } else {
            that.isShowZhq = false;
          }

        } });

    },
    selectZKQ: function selectZKQ(title, price, code, isUse) {var _this = this;
      console.log("34");
      // if(!isUse){
      // 	return false;
      // }
      this.CouponList.forEach(function (item) {
        if (item.couponCode == code) {

          item.check = true;
          _this.SelectedCoupon = title;
          _this.couponCode = code;

        } else {
          item.check = false;
        }

      });
      console.log(this.CouponList);
    },
    GetIsMaster: function GetIsMaster() {
      var that = this;
      that.$util.networkRequest({
        url: "/Company/Info",
        success: function success(res) {
          if (res.isMaster) {
            that.isMaster = true;
          }
        } });

    },
    setvalue: function setvalue() {var _this2 = this;
      //全局赋值
      var storage_data = uni.getStorageSync('expressListData');
      if (storage_data != "" && storage_data != undefined) {
        this.$store.state.expressDeliveryInfo = JSON.parse(storage_data);
        uni.removeStorageSync('expressListData');
      }
      var expressDeliveryInfo = this.$store.state.expressDeliveryInfo;
      var sendAddress = expressDeliveryInfo.sendAddress; //寄件地址
      var repAddress = expressDeliveryInfo.repAddress; //收件地址
      var insuredPrice = expressDeliveryInfo.insuredPrice; //保价
      var serviceData = expressDeliveryInfo.service; //增值服务
      var goodInfoData = expressDeliveryInfo.goodInfo; //物品信息
      this.goodInfoData = {};
      this.insuredPrice = null;
      this.password = "";
      //寄件地址 true--获取用户设置的默认地址;否则获取自己选择的地址
      if (JSON.stringify(sendAddress) == "{}") {
        this.getDefault();
      } else {
        this.sendInfo = sendAddress;
      }
      //收件地址 true--获取用户设置的默认地址;否则获取自己选择的地址
      if (JSON.stringify(repAddress) == "{}") {
        this.repInfo = {
          name: "收件人信息",
          contactsCode: "",
          address: "点击填写收件地址",
          ad: "",
          areaCode: "" };

      } else {
        this.repInfo = repAddress;
      }
      //物品信息
      if (JSON.stringify(goodInfoData) != "{}") {
        this.goodInfoData = goodInfoData;
        this.goodName = goodInfoData.goodName;
      }
      //保价
      if (JSON.stringify(insuredPrice) != "{}") {
        this.insuredPrice = insuredPrice;
        this.priceAgreementUrl = "";
        this.priceAgreementContent = "";
        if (insuredPrice.code != "db001" && insuredPrice.code != "sf001" && insuredPrice.code != "ky001") {
          this.getOtherInsuranceCompany();
        }
      }
      //增值服务
      if (JSON.stringify(serviceData) != "{}") {
        this.serviceList = [];
        var str = "";
        serviceData.forEach(function (item) {
          var s = item.sub.remark.replace(/ /g, '');
          str += s + '-';
          _this2.serviceList.push(item.sub);
          if (item.sub.serviceKey == "PayType") {
            _this2.paytype = item.sub.remark;
          }
        });
        this.serviceNames = str.substring(0, str.length - 1);
      }
      //寄件形式
      if (expressDeliveryInfo.type != "") {
        this.expressTypeIndex = expressDeliveryInfo.type == 0 ? 1 : expressDeliveryInfo.type;
      } else {
        var expressStorage = uni.getStorageSync('expressStorage');
        if (expressStorage != "" && expressStorage != undefined) {
          this.expressModeStorage = JSON.parse(expressStorage).expressMode;
        }
        this.expressTypeIndex = this.expressModeStorage;
      }
      //物流公司
      if (expressDeliveryInfo.companyCode != "") {
        for (var i = 0; i < this.expressCompany.list.length; i++) {
          if (this.expressCompany.list[i].companyCode == expressDeliveryInfo.companyCode) {
            this.setCompanyValue(i);
          }
        }
      }
      if (expressDeliveryInfo.busName != "") {
        this.name = expressDeliveryInfo.busName;
        this.phone = expressDeliveryInfo.busPhone;
      }
      this.calculateProductType();
      this.getSpecialLineList();
    },
    //立即下单
    orderNow: function orderNow() {
      var that = this;
      if (!that.Valid()) return false;
      var amount = "";
      var insuranceCompanyCode = "";
      if (that.insuredPrice != null) {
        amount = that.insuredPrice.amount;
        insuranceCompanyCode = that.insuredPrice.code;
      }
      //到付不支持《第三方保险》
      if (insuranceCompanyCode != "sf001" && insuranceCompanyCode != "db001" && insuranceCompanyCode != "ky001" &&
      insuranceCompanyCode != "" && that.serviceNames.indexOf("到付") != -1) {
        uni.showModal({
          title: "提示",
          content: "到付不支持《第三方保险》",
          success: function success(res) {
            if (res.confirm) {
              var _text = that.expressCompany.list[that.expressCompany.index].insuranceText;
              var _insuranceUpper = that.expressCompany.list[that.expressCompany.index].insuranceUpper;
              uni.setStorage({
                key: "companyPrice",
                data: JSON.stringify({
                  upperAmount: _insuranceUpper,
                  insuranceText: _text }) });


              uni.navigateTo({
                url: "/pages/index/insuredPrice?type=" + that.type + "&code=" + that.expressCompany.code });

            }
          } });

        return false;
      }
      var takeBillInfo = that.$store.state.expressDeliveryInfo.takeBill;
      var _takeDeliveryRemark = "";
      var _takeDeliveryAttachment = [];
      if (JSON.stringify(takeBillInfo) != "{}") {
        _takeDeliveryRemark = takeBillInfo.takeDeliveryRemark;
        var ls = takeBillInfo.takeDeliveryAttachment;
        ls.forEach(function (item) {
          _takeDeliveryAttachment.push({
            path: item.path,
            fileName: item.fileName });

        });
      }
      that.expectedTime(true, function (createTime, startSendTime) {
        if (!createTime) return false;
        uni.showLoading({
          mask: true,
          title: '正在下单' });

        var param = {
          companyCode: that.expressCompany.code,
          fromContactsCode: that.sendInfo.contactsCode,
          toContactsCode: that.repInfo.contactsCode,
          expressMode: that.expressTypeIndex, //寄件形式
          insurance: amount, //报价金额
          insuranceCompanyCode: insuranceCompanyCode,
          expressType: that.type,
          serviceList: that.serviceList, //增值服务
          sendTime: createTime,
          startSendTime: startSendTime.trim(),
          isBillExpress: that.isBillExpress,
          estimateGoods: { //物品信息
            weight: that.goodInfoData.weigth, //重量
            volume: that.goodInfoData.cubic <= 0 ? 0 : that.goodInfoData.cubic, // 体积m³
            category: that.goodInfoData.packType, //产品类型
            name: that.goodInfoData.goodName, //名称
            count: that.goodInfoData.goodNum //数量
          },
          remark: that.goodInfoData.remark, //物品信息备注 
          memo: that.goodInfoData.goodMemo, //内部注释
          packageService: that.goodInfoData.packageservice, //包装材质
          productType: that.productType, //预估价格产品类型
          password: that.password,
          takeDeliveryRemark: _takeDeliveryRemark, ////提货单备注 
          takeDeliveryAttachment: _takeDeliveryAttachment, ////提货单上传文件
          businessUserName: that.name, //业务员姓名
          businessUserPhone: that.phone, //业务员手机号
          couponCode: that.couponCode //券码id
        };
        that.password = "";
        that.isClickTime = true;
        that.$util.networkRequest({
          url: "/Express/Post",
          method: "POST",
          data: param,
          success: function success(res) {
            var data = res;
            var _storageData = {
              expressMode: that.expressTypeIndex,
              companyCode: that.expressCompany.code };

            //默认寄件形式&&物流公司
            uni.setStorage({
              key: 'expressStorage',
              data: JSON.stringify(_storageData) });

            that.emptyData();
            var msg = 0;
            if (data.companyCode == "sf001" && data.expressCode == "") {
              msg = 1;
            }
            uni.navigateTo({
              url: "/pages/order/orderSuccess?mastCode=" + data.mastCode + "&sendTime=" + data.sendTime + "&msg=" +
              msg });

          },
          error: function error(res) {
            //个人余额不足跳转充值存localStorage
            if (res.errCode == 2001) {
              uni.showModal({
                title: '提示',
                content: res.message,
                showCancel: false,
                success: function success(res) {
                  //默认寄件形式&&物流公司
                  var _storageData = {
                    expressMode: that.expressTypeIndex,
                    companyCode: that.expressCompany.code };

                  uni.setStorage({
                    key: 'expressStorage',
                    data: JSON.stringify(_storageData) });

                  uni.setStorage({
                    key: 'expressListData',
                    data: JSON.stringify(that.$store.state.expressDeliveryInfo) });

                  uni.navigateTo({
                    url: "/pages/me/myRefill?type=" + that.type });

                } });

            }
          } });

      });
    },
    //输入企业支付密码

    passwordInput: function passwordInput(e) {
      this.password = e.detail.value;
    },
    glMember: function glMember() {
      uni.navigateTo({
        url: "/pages/me/memberList?type=2" });

    },
    //计算产品类型
    calculateProductType: function calculateProductType(type, i) {

      console.log(type);
      var that = this;
      that.estimatePriceList = [];
      that.productType = "";
      that.isSpecialLine = "";
      console.log(that.serviceNames, that.serviceNames.indexOf("到付"));
      if (that.serviceNames.indexOf("到付") > 0) {
        that.isShowZhq = false;
        that.couponCode = "";
      } else
      {
        that.isShowZhq = true;
        that.couponCode = that.CouponList[0].couponCode;
      }
      if (that.sendInfo.areaCode == "") return false;
      if (that.repInfo.areaCode == "") return false;
      if (JSON.stringify(that.goodInfoData) == "{}") return false;
      var amount = "";
      var insuranceCompanyCode = "";
      if (that.insuredPrice != null) {
        amount = that.insuredPrice.amount;
        insuranceCompanyCode = that.insuredPrice.code;
      }
      if (that.isShowxs) {
        if (that.expressTypeIndex == 0) return false;
      } else {
        that.expressTypeIndex = 1;
      }
      //抛重比(体积/重量) ≤ 3000
      that.NetWeightScale = 3000 * Number(that.goodInfoData.weigth) / 1000000;
      var _code = that.expressCompany.code == "" ? that.companyCodeStorage : that.expressCompany.code;
      that.isLoading = true;
      var createTime = this.expectedTime('', function (createTime) {
        var data = {
          ExpressMode: that.expressTypeIndex,
          areaCodeFrom: that.sendInfo.areaCode,
          fromAddress: that.sendInfo.ad,
          toAddress: that.repInfo.ad,
          areaCodeTo: that.repInfo.areaCode,
          companyCode: _code,
          insuranceValue: amount,
          insuranceCompanyCode: insuranceCompanyCode,
          sendTime: createTime,
          volume: that.goodInfoData.cubic <= 0 ? 0 : that.goodInfoData.cubic,
          serviceDeliveryTypeInfo: that.serviceList,
          weight: that.goodInfoData.weigth,
          remark: that.goodInfoData.remark,
          couponCode: that.couponCode //券码id
        };
        that.$util.networkRequest({
          url: "/Price/EstimatePrice",
          method: "POST",
          data: data,
          success: function success(res) {
            res.filter(function (item) {
              item.price = item.price.toFixed(2);
              item.originalPrice = item.originalPrice.toFixed(2);
              item.isActiveClass = false;
            });
            that.estimatePriceList = res;
            that.isLoading = false;
            var index = 0;

            that.btnSelProductType(res[index], index, false);




          },
          error: function error(res) {
            that.isLoading = false;
          } });

      });
    },
    //预估价格
    btnSelProductType: function btnSelProductType(item, i, bool) {
      var that = this;


      if (item.isInsurance && Number(item.insurancePrice) <= 0) {
        if (bool == true) {

          uni.showModal({
            title: "提示",
            content: item.productName + "需要进行保费",
            confirmText: "去保价",
            success: function success(res) {
              if (res.confirm) {
                that.goInsuredPrice(item.isInsurance);
              }
            } });

        }
        return false;
      }
      item.isActiveClass = true;
      this.sumMoney = "";
      if (this.insuredPrice !== null) {
        this.insuredPrice.price = item.insurancePrice;
      }
      this.selectProduct = i;
      this.productType = item.productType;
      this.isSpecialLine = item.isSpecialLine;
      this.sumMoney = parseFloat(
      parseFloat(item.price) +
      parseFloat(item.insurancePrice == "" ? 0 : item.insurancePrice)).
      toFixed(2);



    },
    //跳转地址
    addressPage: function addressPage(key, type) {
      if (key == 0) {
        //新增&&编辑
        var code = "";
        if (type == "send") code = this.sendInfo.contactsCode;
        if (type == "rep") code = this.repInfo.contactsCode;
        uni.navigateTo({
          url: "/pages/me/addressEdit?addresscode=" + code + "&type=" + type });

      }
      if (key == 1) {
        //列表
        uni.navigateTo({
          url: "/pages/me/addressList?type=" + type });

      }
    },
    //物品信息
    goGoodsInfo: function goGoodsInfo() {
      uni.navigateTo({
        url: "/pages/index/goodsInfo?type=" + this.type + "&code=" + this.expressCompany.code });

    },
    //请填写报价信息
    goInsuredPrice: function goInsuredPrice(isInsurance) {
      if (this.expressCompany.code == "" || this.expressCompany.code == null) {
        this.$util.showToast("请选择物流公司");
        return false;
      }
      var _text = this.expressCompany.list[this.expressCompany.index].insuranceText;
      var _insuranceUpper = this.expressCompany.list[this.expressCompany.index].insuranceUpper;
      uni.setStorage({
        key: "companyPrice",
        data: JSON.stringify({
          upperAmount: _insuranceUpper,
          insuranceText: _text }) });


      uni.navigateTo({
        url: "/pages/index/insuredPrice?type=" + this.type + "&code=" + this.expressCompany.code + "&isInsurance=" +
        isInsurance });

    },
    //增值服务
    goService: function goService() {
      uni.navigateTo({
        url: "/pages/index/addedService?code=" + this.expressCompany.code });

    },
    //启用电子面单
    switchChange: function switchChange(e) {
      this.isBillExpress = e.target.value;
    },
    //物流公司
    expressCompanyPickerChange: function expressCompanyPickerChange(e) {
      var index = e.detail.value;
      this.estimatePriceList = [];
      this.productType = "";
      this.isSpecialLine = "";
      this.$store.state.expressDeliveryInfo.expectTime = "";
      this.setCompanyValue(index);
      this.$store.state.expressDeliveryInfo.companyCode = this.expressCompany.list[index].companyCode;
      //更换物流公司 增值清空
      this.$store.state.expressDeliveryInfo.service = {};
      this.$store.state.expressDeliveryInfo.insuredPrice = {};
      this.insuredPrice = null;
      uni.removeStorageSync('insuredPrice');
      this.serviceNames = "";
      this.GetCouponDiscountList('tz');
      this.initServiceData();
      this.calculateProductType();
      this.getSpecialLineList();
      this.couponInput = "";
      this.couponCode = "";

    },
    setCompanyValue: function setCompanyValue(index) {
      var _code = this.expressCompany.list[index].companyCode;
      var _start = this.expressCompany.list[index].startTime;
      var _end = this.expressCompany.list[index].endTime;
      var _path = this.expressCompany.list[index].logoPath;
      var _agreementUrl = this.expressCompany.list[index].agreementUrl;
      this.expressCompany.index = index;
      this.expressCompany.code = _code;
      this.expressCompany.path = _path.replace(/\s*/g, "");
      this.expressCompany.agreementUrl = _agreementUrl.replace(/\《|》*/g, "");
      this.expressCompany.companyName = this.expressCompany.list[index].companyName;
      this.clauseHtml = this.expressCompany.list[index].agreementContent;
      this.startTime = _start;
      this.endTime = _end;
      this.setPickerIndex = [0];
      if (this.$store.state.expressDeliveryInfo.expectTime != "") {
        this.sendTime = this.$store.state.expressDeliveryInfo.expectTime;
      } else {
        this.setDate(_code, _end);
      }
    },
    //选择时间段
    open: function open() {
      this.popupShow = true;
    },
    close: function close() {
      this.popupShow = false;
    },
    timeChange: function timeChange(data) {
      this.setPickerIndex = [Number(data.pickerIndex)];
      this.sendTime = data.txt;
      this.timeTabIndex = data.tabIndex;
      this.$store.state.expressDeliveryInfo.expectTime = this.sendTime;
      this.calculateProductType();
    },
    setDate: function setDate(_code, _end) {
      var dt = new Date(); //当前时间
      if (dt.getHours() >= this.endTime - 1 && (_code == "sf001" || _code == "" || _code == "ky001")) {
        this.timeTabIndex = 1;
      } else if (dt.getHours() >= this.endTime && _code == "db001") {
        this.timeTabIndex = 1;
      } else this.timeTabIndex = 0;
      var _txt = this.timeTabIndex == 0 ? "" : "明天";
      this.sendTime = _code == "" || _code == "sf001" || _code == "ky001" ? _txt + " 一小时内" : _txt + " 两小时内";
    },
    //计算期望上门时间年月日 时:分
    expectedTime: function expectedTime(bool, callback) {
      var that = this;
      var date = new Date();

      that.$util.networkRequest({
        url: "/SysInfo/GetDateTime",
        success: function success(res) {
          date = new Date(res);
          var new_date = "";
          var hour = "";
          var section = "";
          var startSendTime = "";
          if (that.sendTime.indexOf("小时") != -1) {
            var h_i = 1;
            if (that.timeTabIndex == 1) {
              //若距离下班时间1小时则期待上门时间是明天
              new_date = new Date(date.getTime() + 24 * 60 * 60 * 1000);
              hour = that.startTime + ':00';
            } else {
              if (that.expressCompany.code == "sf001" || that.expressCompany.code == "ky001") {
                if (that.endTime - 1 < new Date().getHours() && new Date().getHours() < that.endTime) {
                  callback(date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate() + ' ' + that.endTime +
                  ':00', startSendTime);
                  return false;
                }
                //顺丰一小时之内
                new_date = new Date(date.getTime() + 60 * 60 * 1000);
              } else {
                if (that.endTime - 2 < new Date().getHours() && new Date().getHours() < that.endTime) {
                  if (date.getHours() >= 18 && that.expressCompany.code == "db001" && that.isClickTime && that.timeTabIndex ==
                  0 && bool) {
                    that.isPopupTime = true;
                    callback(false, startSendTime);
                    return false;
                  }
                  callback(date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate() + ' ' + that.endTime +
                  ':00', startSendTime);
                  return false;
                }
                //德邦两小时之内
                new_date = new Date(date.getTime() + 60 * 60 * 1000 * 2);
              }
              hour = new_date.getHours() + ':' + new_date.getMinutes();
            }
          } else {
            //已选择时间段
            hour = that.sendTime.split("-")[1];
            if (that.timeTabIndex == 0) {
              new_date = new Date();
              if (hour == "24:00") {
                hour = "23:59";
              }
            } else {
              new_date = new Date(date.getTime() + 24 * 60 * 60 * 1000 * that.timeTabIndex);
              if (hour == "24:00") {
                hour = "23:59";
              }
            }
            var str = that.sendTime.split(" ");
            section = str[1].split("-")[0];
          }
          var set_date = new_date.getFullYear() + '-' + (new_date.getMonth() + 1) + '-' + new_date.getDate();
          var expectedTime = set_date + ' ' + hour;
          if (section != "") {
            startSendTime = set_date + ' ' + section;
          }
          //德邦截止下单时间为18点，18点后下单小哥可能第二天才能收到下单信息
          if (date.getHours() >= 18 && that.expressCompany.code == "db001" && that.isClickTime && that.timeTabIndex ==
          0 && bool) {
            that.isPopupTime = true;
            callback(false, startSendTime);
            return false;
          }
          callback(expectedTime, startSendTime);
        } });

    },
    closePrompt: function closePrompt() {
      this.isClickTime = false;
      this.isPopupTime = false;
      if (this.isPrompt) {
        uni.setStorage({
          key: 'isPromptTime',
          data: "false" });

      }
      this.orderNow();
    },
    //获取物流公司
    getExpressCompany: function getExpressCompany() {
      var that = this;
      that.expressCompany = {
        list: [],
        range: [],
        index: 0,
        code: "",
        path: "",
        agreementUrl: "",
        companyName: "" };

      var _companyType = that.type == "small" ? "Normal" : "Big";
      that.$util.networkRequest({
        url: "/ExpressCompany/GetList",
        data: {
          companyType: _companyType },

        success: function success(res) {
          var index = that.expressCompany.index;
          if (that.istc !== "") {
            for (var i = 0; i < res.length; i++) {
              if (res[i].companyCode == that.istc) {
                index = i;
              }
            }
          } else {
            if (that.companyCodeStorage != "") {
              for (var i = 0; i < res.length; i++) {
                if (res[i].companyCode == that.companyCodeStorage) {
                  index = i;
                }
              }
            }
          }
          var _data = res[index];
          that.expressCompany.list = res;
          that.expressCompany.code = _data.companyCode;
          that.expressCompany.companyName = _data.companyName;
          that.expressCompany.path = _data.logoPath.replace(/\s*/g, "");
          that.expressCompany.agreementUrl = _data.agreementUrl;
          that.clauseHtml = _data.agreementContent;
          that.startTime = _data.startTime;
          that.endTime = _data.endTime;
          that.initServiceData(); //增值服务
          that.setDate("", that.endTime);
          that.setCompanyValue(index);
          that.GetCouponDiscountList('tz');
          res.forEach(function (c, i) {
            that.expressCompany.range.push(c.companyName);
          });
        } });

    },
    //寄件形式
    expressTypeChange: function expressTypeChange(index) {
      this.$store.state.expressDeliveryInfo.type = this.expressTypeIndex = index;
      this.countYHQ = this.expressTypeIndex == 1 ? this.couponCountUser : this.couponCountCompany;
      if (this.expressTypeIndex == 0) this.estimatePriceList = [];
      this.GetCouponDiscountList('tz');
      this.calculateProductType();
      this.couponInput = "";
      this.couponCode = "";

    },
    //寄件形式
    isRegister: function isRegister() {
      var that = this;
      that.$util.networkRequest({
        url: "/Company/IsRegister",
        success: function success(res) {
          that.isUseBillExpress();
          if (res) {
            that.isShowxs = true;
            that.expressTypeData.push("企业");
            that.expressTypeIndex = 2;
          } else {
            that.isShowxs = false;
            that.expressTypeIndex = 1;
          }

          if (that.expressModeStorage !== 0) {
            that.expressTypeIndex = that.expressModeStorage;
          }
          that.$store.state.expressDeliveryInfo.type = that.expressTypeIndex;
        } });

    },
    //是否启用电子面单
    isUseBillExpress: function isUseBillExpress() {
      var that = this;
      that.$util.networkRequest({
        url: "/Company/IsUseBillExpress",
        success: function success(res) {
          that.isUseBE = res;
        } });

    },
    //获取服务协议
    getYshESAgree: function getYshESAgree() {
      var that = this;
      that.$util.networkRequest({
        url: "/ExpressCompany/GetYshESAgree",
        success: function success(res) {
          that.agreeHtml = res;
        } });

    },
    //获取默认地址簿
    getDefault: function getDefault() {
      var that = this;
      that.$util.networkRequest({
        url: "/AddressBook/GetDefault",
        success: function success(res) {
          if (!that.$util.isNotEmpty(res)) {
            return false;
          }
          that.sendInfo = {
            name: res.name,
            contactsCode: res.contactsCode,
            address: res.areaInfo.province + res.areaInfo.city + res.areaInfo.area + res.address,
            ad: res.address,
            areaCode: res.areaInfo.areaCode };

          that.$store.state.expressDeliveryInfo.sendAddress = that.sendInfo;
        } });

    },
    //优惠券数
    getCoupon: function getCoupon() {
      var that = this;
      that.$util.networkRequest({
        url: "/Coupon/GetCouponCountModel",
        success: function success(res) {
          if (that.expressTypeIndex != 0) that.countYHQ = that.expressTypeIndex == 1 ? res.userCount : res.companyCount;
          that.couponCountUser = res.userCount;
          that.couponCountCompany = res.companyCount;
        } });

    },
    //增值服务
    initServiceData: function initServiceData() {
      var that = this;
      if (JSON.stringify(this.$store.state.expressDeliveryInfo.service) == "{}") {
        that.serviceList = [];
        that.$util.networkRequest({
          url: "/ExpressService/GetList",
          data: {
            companyCode: that.expressCompany.code },

          success: function success(res) {
            res.forEach(function (item) {
              var _subData = item.listDetail[0];
              if (that.expressCompany.code == "db001" && item.serviceKey == "DeliveryType") {
                //若是德邦:提货方式默认“送货（不含上楼）”
                item.listDetail.forEach(function (sub) {
                  if (sub.remark == "送货（不含上楼）") {
                    _subData = sub;
                  }
                });
              }
              that.serviceList.push({
                remark: _subData.remark,
                serviceKey: _subData.serviceKey,
                serviceValue: _subData.serviceValue });

            });
          } });

      }
    },
    //根据收寄地址查询是否存在特价线路信息
    getSpecialLineList: function getSpecialLineList() {
      var that = this;
      var param = {
        "fromAreaCode": that.sendInfo.areaCode, //寄件人地址
        "toAreaCode": that.repInfo.areaCode, //收件人地址
        "expressType": that.type, //配送类型：small小件，big大件
        "expressMode": that.expressTypeIndex, //寄件形式：0未选择1个人2公司 可为空说
        // "companyCode": that.expressCompany.code //物流公司代码 可为空
        "companyCode": "sf001" //物流公司代码 可为空
      };
      if (param.fromAreaCode == "") return false;
      if (param.toAreaCode == "") return false;
      if (param.expressMode == "") return false;
      if (param.companyCode == "") return false;
      that.$util.networkRequest({
        url: "/Express/GetSpecialLineList",
        method: "POST",
        data: param,
        success: function success(res) {
          if (res == null) {
            that.isCompanySpecial = false;
            return false;
          }
          if (res.length > 0) {
            that.specialLineData = res;
            that.isCompanySpecial = true;
          } else {
            that.isCompanySpecial = false;
          }
        } });

    },
    getOtherInsuranceCompany: function getOtherInsuranceCompany() {
      var that = this;
      that.$util.networkRequest({
        url: "/InsuranceCompany/GetList",
        success: function success(res) {
          if (res.length == 0) return false;
          res.forEach(function (item) {
            if (that.insuredPrice.code == item.companyCode) {
              that.priceAgreementUrl = item.agreementUrl;
              that.priceAgreementContent = item.agreementContent;
            }
          });
        } });

    },
    //优惠券
    clickCoupon: function clickCoupon() {
      this.isCouponList = true;
      this.couponIndex = 0;

    },
    couponNav: function couponNav(i) {
      this.couponIndex = i;
      if (i == 0) {
        this.CouponList = this.AllCouponList.filter(function (item) {
          return item.isUse == true;
        });
      } else {
        this.CouponList = this.AllCouponList.filter(function (item) {
          return item.isUse == false;
        });
      }
      console.log(this.CouponList);

    },
    couponConfirm: function couponConfirm() {
      console.log(this.SelectedCoupon);
      this.couponInput = this.SelectedCoupon;
      this.isCouponList = false;
      this.calculateProductType();

    },
    scrolltolower: function scrolltolower() {
      console.log('====');
    },
    Valid: function Valid() {
      if (!this.$util.isNotEmpty(this.sendInfo.contactsCode)) {
        this.$util.showToast("寄件人不能为空");
        return false;
      }
      if (!this.$util.isNotEmpty(this.repInfo.contactsCode)) {
        this.$util.showToast("收件人不能为空");
        return false;
      }
      if (this.expressTypeIndex == 0) {
        this.$util.showToast("请选择寄件形式");
        return false;
      }
      if (JSON.stringify(this.goodInfoData) == "{}") {
        this.$util.showToast("请填写物品信息");
        return false;
      }
      if (this.insuredPrice == null && this.type == "big") {
        this.$util.showToast("请填写保价信息");
        return false;
      }
      if (this.expressCompany.code == "db001" && this.isBillExpress == true && this.goodInfoData.packageservice == "") {
        this.$util.showToast("请选择包装材质");
        return false;
      }
      if (!this.$util.isNotEmpty(this.productType)) {
        this.$util.showToast("请选择产品类型");
        return false;
      }
      if (!this.checkedAgree) {
        this.$util.showToast("请详细阅读条款并勾选");
        return false;
      }
      if (this.expressTypeIndex == 2 && this.password == "") {
        var bool = true;
        this.serviceList.forEach(function (item) {
          if (item.serviceKey == "PayType" && item.serviceValue == 1) {
            bool = false;
          }
        });
        if (bool) {
          this.isCompanyPassword = true;
          return false;
        } else {
          this.isCompanyPassword = false;
        }
      } else {
        this.isCompanyPassword = false;
      }
      return true;
    },
    //清空数据
    emptyData: function emptyData() {
      this.password = "";
      this.estimatePriceList = [];
      this.sumMoney = "";
      this.goodName = "";
      this.insuredPrice = null;
      this.serviceNames = "";
      this.isBillExpress = false;
      this.checkedAgree = false;
      uni.removeStorageSync('insuredPrice');
      this.$store.state.expressDeliveryInfo = {
        type: "", //寄件形式
        companyCode: "", //物流公司
        expectTime: "", //期望时间
        sendAddress: {}, //寄件地址
        repAddress: {}, //收件地址
        goodInfo: {}, //物品信息
        insuredPrice: {}, //保价
        service: {}, //增值服务
        takeBill: {} };

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 37:
/*!*************************************************************************************************************************!*\
  !*** D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue?vue&type=style&index=0&id=77a4dbc4&scoped=true&lang=css& ***!
  \*************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./expressDelivery.vue?vue&type=style&index=0&id=77a4dbc4&scoped=true&lang=css& */ 38);
/* harmony import */ var _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_F_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_F_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_F_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_F_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_expressDelivery_vue_vue_type_style_index_0_id_77a4dbc4_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 38:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/Ysd.Web.Small.Program/pages/index/expressDelivery.vue?vue&type=style&index=0&id=77a4dbc4&scoped=true&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[31,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/expressDelivery.js.map